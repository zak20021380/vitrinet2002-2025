<style>
  .performance-wrap { direction: rtl; font-family: 'Vazirmatn', sans-serif; }
  .score-card {
    border-radius: 1rem;
    padding: 24px;
    text-align: center;
    border: 1px solid transparent;
    box-shadow: 0 8px 24px rgba(15, 118, 110, 0.08);
    transition: box-shadow .25s ease, transform .25s ease;
    background: #f8fafc;
  }
  .score-card:hover { box-shadow: 0 12px 32px rgba(14,165,233,.15); transform: translateY(-4px); }
  .score-card .score { font-size: 2.7rem; font-weight: 900; color: #0ea5e9; }
  .score-card .score-suffix { font-size: 1rem; color: #475569; margin-right: .35rem; }
  .score-card .label { font-weight: 800; margin-top: .6rem; font-size: 1.1rem; }
  .score-card .status { margin-top: .75rem; font-weight: 600; font-size: .95rem; }
  .score-card .updated { margin-top: .6rem; font-size: .8rem; color: #64748b; }
  .score-card.status-success { background: #ecfdf5; border-color: #bbf7d0; }
  .score-card.status-success .label, .score-card.status-success .status { color: #047857; }
  .score-card.status-warning { background: #fef3c7; border-color: #fde68a; }
  .score-card.status-warning .label, .score-card.status-warning .status { color: #b45309; }
  .score-card.status-danger { background: #fee2e2; border-color: #fecaca; }
  .score-card.status-danger .label, .score-card.status-danger .status { color: #b91c1c; }
  .score-card.status-neutral { background: #f8fafc; border-color: #e2e8f0; }
  .score-card.status-neutral .label { color: #0f172a; }
  .score-card.status-neutral .status { color: #0ea5e9; }
  .greeting-line { font-size: 1rem; font-weight: 800; color: #0f172a; margin: 0; }
  .greeting-line span { color: #0ea5e9; }
  .summary-card {
    background: #fff;
    border-radius: 1rem;
    box-shadow: 0 6px 20px rgba(15,118,110,.08);
    padding: 20px 22px;
    line-height: 1.8;
    font-size: .92rem;
  }
  .summary-card h3 { font-weight: 800; color: #0ea5e9; font-size: 1.1rem; margin-bottom: .6rem; }
  .summary-card p { color: #475569; margin: 0; }
  .city-ranking { background: #ffffff; border-radius: 1.1rem; box-shadow: 0 12px 34px rgba(14,165,233,.12); padding: 22px 20px; border: 1px solid #bae6fd; }
  .city-ranking__header { display: flex; flex-direction: column; gap: 6px; margin-bottom: 16px; text-align: right; }
  .city-ranking__eyebrow { display: inline-flex; align-items: center; gap: 8px; background: linear-gradient(120deg, #ecfeff, #f0fdfa); border: 1px dashed #67e8f9; padding: 6px 10px; border-radius: 999px; font-size: .85rem; color: #0ea5e9; font-weight: 800; width: fit-content; }
  .city-ranking__title { margin: 0; font-size: 1.2rem; font-weight: 900; color: #0f172a; }
  .city-ranking__desc { margin: 0; color: #475569; font-size: .93rem; line-height: 1.9; }
  .city-ranking__grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 14px; }
  .ranking-card { position: relative; overflow: hidden; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 1rem; padding: 18px 16px; box-shadow: 0 10px 28px rgba(15,118,110,.08); display: flex; flex-direction: column; gap: 10px; min-height: 170px; }
  .ranking-card::after { content: ""; position: absolute; inset: 0; pointer-events: none; background: radial-gradient(circle at 80% 10%, rgba(14,165,233,.12), transparent 45%); }
  .ranking-card__header { display: flex; align-items: center; justify-content: space-between; gap: 12px; }
  .ranking-card__title { margin: 0; font-size: 1rem; font-weight: 900; color: #0f172a; }
  .ranking-card__badge { display: inline-flex; align-items: center; gap: 6px; padding: 6px 10px; border-radius: 12px; font-weight: 800; font-size: .85rem; }
  .ranking-card__badge--green { background: #ecfdf3; color: #15803d; border: 1px solid #bbf7d0; }
  .ranking-card__badge--blue { background: #e0f2fe; color: #0369a1; border: 1px solid #bae6fd; }
  .ranking-card__metric { display: flex; align-items: flex-end; gap: 6px; font-size: 2.1rem; font-weight: 900; color: #0ea5e9; }
  .ranking-card__metric small { font-size: .95rem; color: #475569; font-weight: 700; }
  .ranking-card__meta { color: #475569; font-size: .9rem; display: flex; flex-wrap: wrap; gap: 10px; justify-content: space-between; }
  .ranking-card__progress { width: 100%; background: #e2e8f0; border-radius: 999px; height: 10px; overflow: hidden; }
  .ranking-card__progress-bar { height: 100%; background: linear-gradient(120deg, #0ea5e9, #10b981); border-radius: 999px; width: 0; transition: width .4s ease; }
  .city-ranking__footer { margin-top: 14px; display: flex; flex-wrap: wrap; gap: 10px; align-items: center; color: #0f172a; font-weight: 700; font-size: .92rem; }
  .city-ranking__updated { color: #475569; font-weight: 600; font-size: .86rem; }
  .city-ranking__chips { display: flex; flex-wrap: wrap; gap: 8px; }
  .city-ranking__chip { background: #f0f9ff; color: #0ea5e9; border: 1px solid #bae6fd; padding: 6px 10px; border-radius: 999px; font-weight: 700; font-size: .85rem; }
  .message-card {
    background: #fff;
    border-radius: 1rem;
    box-shadow: 0 8px 28px rgba(14,165,233,.12);
    padding: 22px 24px;
    border: 1px solid #bae6fd;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
  .message-card[hidden] { display: none; }
  .message-card-header { display: flex; align-items: flex-start; gap: 1rem; }
  .message-card-icon {
    width: 48px;
    height: 48px;
    border-radius: 14px;
    background: #e0f2fe;
    color: #0284c7;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    box-shadow: inset 0 0 0 1px rgba(2,132,199,.1);
  }
  .message-card-title { margin: 0; font-weight: 800; color: #0284c7; font-size: 1.05rem; }
  .message-card-meta { margin: 0.25rem 0 0; font-size: .85rem; color: #64748b; }
  .message-card-text { margin: 0; font-size: .95rem; line-height: 1.9; color: #0f172a; }
  .error-box {
    background: #fee2e2;
    border: 1px solid #fecaca;
    color: #b91c1c;
    text-align: center;
    border-radius: 1rem;
    padding: 22px;
    font-weight: 600;
  }
  @media (max-width: 640px) {
    .performance-wrap { padding: 1rem 0.75rem; }
    .score-card { padding: 20px; }
    .message-card { padding: 18px; gap: 0.85rem; }
    .message-card-icon { width: 40px; height: 40px; font-size: 1.3rem; }
    .greeting-line { font-size: .95rem; }
    .city-ranking { padding: 18px 16px; }
    .ranking-card { min-height: unset; }
  }
</style>
<div class="performance-wrap max-w-3xl mx-auto py-6 space-y-6" id="performance-root">
  <header class="text-center space-y-2">

    <h2 class="text-2xl md:text-3xl font-extrabold text-[#10b981]">ÙˆØ¶Ø¹ÛŒØª Ø¹Ù…Ù„Ú©Ø±Ø¯ ÙØ±ÙˆØ´Ú¯Ø§Ù‡</h2>
    <p class="greeting-line" id="performance-greeting">Ø³Ù„Ø§Ù… <span id="performance-greeting-name">ÙØ±ÙˆØ´Ù†Ø¯Ù‡</span> Ø¹Ø²ÛŒØ²!</p>
    <p class="text-gray-600 text-sm">Ø¯Ø± Ø§ÛŒÙ† Ø¨Ø®Ø´ Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒ Ù†ØªÛŒØ¬Ù‡ Ø§Ø±Ø²ÛŒØ§Ø¨ÛŒ ØªÛŒÙ… Ø§Ø¯Ù…ÛŒÙ† Ø±Ø§ Ø¨Ø¨ÛŒÙ†ÛŒØŒ Ù¾ÛŒØ§Ù… Ø§Ø®ØªØµØ§ØµÛŒ Ø¢Ù†â€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ø®ÙˆØ§Ù†ÛŒ Ùˆ Ø§Ø² ÙˆØ¶Ø¹ÛŒØª Ø§Ø¯Ø§Ù…Ù‡ Ù‡Ù…Ú©Ø§Ø±ÛŒ Ù…Ø·Ù„Ø¹ Ø¨Ø´ÛŒ.</p>
  </header>
  <div class="score-card status-neutral" id="performance-card">
    <div class="score" id="performance-score">--<span class="score-suffix">/100</span></div>
    <div class="label" id="performance-label">Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø± Ø§Ø±Ø²ÛŒØ§Ø¨ÛŒ</div>
    <div class="status" id="performance-status">Ø¨Ù‡ Ù…Ø­Ø¶ Ø«Ø¨Øª Ù†Ù…Ø±Ù‡ ØªÙˆØ³Ø· ØªÛŒÙ… Ø§Ø¯Ù…ÛŒÙ†ØŒ ÙˆØ¶Ø¹ÛŒØª Ø¹Ù…Ù„Ú©Ø±Ø¯Øª Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.</div>
    <div class="updated" id="performance-updated">Ø¢Ø®Ø±ÛŒÙ† Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ: â€”</div>
  </div>
  <section class="message-card" id="performance-message-card" hidden>
    <div class="message-card-header">
      <div class="message-card-icon" aria-hidden="true">ğŸ’¬</div>
      <div>
        <h3 class="message-card-title">Ù¾ÛŒØ§Ù… ØªÛŒÙ… Ø§Ø¯Ù…ÛŒÙ† Ø¨Ø±Ø§ÛŒ <span id="performance-message-name">Ø´Ù…Ø§</span></h3>
        <p class="message-card-meta" id="performance-message-updated"></p>
      </div>
    </div>
    <p class="message-card-text" id="performance-message-text"></p>
  </section>
  <section class="city-ranking" id="city-ranking" hidden>
    <div class="city-ranking__header">
      <span class="city-ranking__eyebrow">
        <i class="ri-compass-3-line" aria-hidden="true"></i>
        Ø¬Ø§ÛŒÚ¯Ø§Ù‡ ØªÙˆ Ø¯Ø± Ø´Ù‡Ø±
      </span>
      <h3 class="city-ranking__title">Ø³Ù†Ù†Ø¯Ø¬ØŒ Ø±Ù‚Ø¨Ø§ Ùˆ Ù…Ø´ØªØ±ÛŒâ€ŒÙ‡Ø§ Ú†Ù‡ Ù…ÛŒâ€ŒÚ¯ÙˆÛŒÙ†Ø¯ØŸ</h3>
      <p class="city-ranking__desc">Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¢Ø®Ø±ÛŒÙ† Ø¨Ø§Ø²Ø¯ÛŒØ¯Ù‡Ø§ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ Ùˆ ØªØ¹Ø¯Ø§Ø¯ Ù…Ø´ØªØ±ÛŒØ§Ù† ÙØ¹Ø§Ù„ØŒ Ø¬Ø§ÛŒÚ¯Ø§Ù‡ ÙØ±ÙˆØ´Ú¯Ø§Ù‡Øª Ø¯Ø± Ø³Ø·Ø­ Ø´Ù‡Ø± Ø³Ù†Ù†Ø¯Ø¬ Ø±Ø§ Ø¨Ø¨ÛŒÙ† Ùˆ Ù…Ø·Ù…Ø¦Ù† Ø´Ùˆ Ù…Ø³ÛŒØ± Ø±Ø´Ø¯ Ø±Ø§ Ø¯Ø±Ø³Øª Ù…ÛŒâ€ŒØ±ÙˆÛŒ.</p>
    </div>
    <div class="city-ranking__grid">
      <article class="ranking-card" aria-labelledby="rank-visits-title">
        <div class="ranking-card__header">
          <h4 class="ranking-card__title" id="rank-visits-title">Ø±ØªØ¨Ù‡ Ø¨Ø§Ø²Ø¯ÛŒØ¯ ÙØ±ÙˆØ´Ú¯Ø§Ù‡</h4>
          <span class="ranking-card__badge ranking-card__badge--blue" id="visit-percentile-badge">Ø¯Ø± Ø¨ÛŒÙ† Û°Ùª Ø¨Ø§Ù„Ø§ÛŒÛŒ</span>
        </div>
        <div class="ranking-card__metric">
          <span id="visit-rank">--</span>
          <small id="visit-total">Ø§Ø² Ú©Ù„ ÙØ±ÙˆØ´Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ø³Ù†Ù†Ø¯Ø¬</small>
        </div>
        <div class="ranking-card__progress" aria-hidden="true">
          <div class="ranking-card__progress-bar" id="visit-progress"></div>
        </div>
        <div class="ranking-card__meta">
          <span id="visit-avg">Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø´Ù‡Ø±: -- Ø¨Ø§Ø²Ø¯ÛŒØ¯</span>
          <span id="visit-your">ÙØ±ÙˆØ´Ú¯Ø§Ù‡ ØªÙˆ: -- Ø¨Ø§Ø²Ø¯ÛŒØ¯ ÙˆØ§Ù‚Ø¹ÛŒ</span>
        </div>
      </article>
      <article class="ranking-card" aria-labelledby="rank-customers-title">
        <div class="ranking-card__header">
          <h4 class="ranking-card__title" id="rank-customers-title">Ø±ØªØ¨Ù‡ ØªØ¹Ø¯Ø§Ø¯ Ù…Ø´ØªØ±ÛŒ</h4>
          <span class="ranking-card__badge ranking-card__badge--green" id="customer-percentile-badge">Ù…Ø´ØªØ±ÛŒâ€ŒÙ‡Ø§ Ø±Ø§Ø¶ÛŒâ€ŒØ§Ù†Ø¯</span>
        </div>
        <div class="ranking-card__metric">
          <span id="customer-rank">--</span>
          <small id="customer-total">Ø§Ø² Ú©Ù„ ÙØ±ÙˆØ´Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ø³Ù†Ù†Ø¯Ø¬</small>
        </div>
        <div class="ranking-card__progress" aria-hidden="true">
          <div class="ranking-card__progress-bar" id="customer-progress"></div>
        </div>
        <div class="ranking-card__meta">
          <span id="customer-avg">Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø´Ù‡Ø±: -- Ù…Ø´ØªØ±ÛŒ ÙØ¹Ø§Ù„</span>
          <span id="customer-your">ÙØ±ÙˆØ´Ú¯Ø§Ù‡ ØªÙˆ: -- Ù…Ø´ØªØ±ÛŒ ÙØ¹Ø§Ù„</span>
        </div>
      </article>
    </div>
    <div class="city-ranking__footer">
      <div class="city-ranking__chips" aria-hidden="true">
        <span class="city-ranking__chip" id="city-ranking-chip-1">Ø¨Ø§Ø²Ø§Ø± Ø³Ù†Ù†Ø¯Ø¬</span>
        <span class="city-ranking__chip" id="city-ranking-chip-2">Ù†Ø±Ø® Ø±Ø´Ø¯ ÙˆØ§Ù‚Ø¹ÛŒ</span>
        <span class="city-ranking__chip" id="city-ranking-chip-3">Ø¨Ø§Ø²Ø®ÙˆØ±Ø¯ Ù…Ø´ØªØ±ÛŒØ§Ù†</span>
      </div>
      <span class="city-ranking__updated" id="city-ranking-updated">Ø¢Ø®Ø±ÛŒÙ† Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ: --</span>
    </div>
  </section>
  <div class="summary-card" id="performance-summary">
    <h3>Ø¬Ù…Ø¹â€ŒØ¨Ù†Ø¯ÛŒ ÙˆØ¶Ø¹ÛŒØª</h3>
    <p id="performance-summary-text">Ù¾Ø³ Ø§Ø² Ø«Ø¨Øª Ù†Ù…Ø±Ù‡ØŒ ØªÙˆØµÛŒÙ‡â€ŒÙ‡Ø§ÛŒ Ù„Ø§Ø²Ù… Ø¨Ø±Ø§ÛŒ Ø­ÙØ¸ ÛŒØ§ Ø¨Ù‡Ø¨ÙˆØ¯ Ø­Ø¶ÙˆØ± Ø¯Ø± ÙˆÛŒØªØ±ÛŒÙ†Øª Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.</p>
  </div>
</div>
<script src="performance-status.js" defer></script>
