<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù¾Ù†Ù„ ÙØ±ÙˆØ´Ù†Ø¯Ù‡ - Vitreenet</title>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#8B5CF6',
                        secondary: '#86EFAC',
                        dark: '#0F172A',
                        darker: '#0B1120',
                        light: '#F1F5F9'
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Vazirmatn', sans-serif;
            background-color: #0F172A;
            color: #F1F5F9;
        }
        .card {
            background: linear-gradient(145deg, #1E293B, #0F172A);
            border: 1px solid #334155;
            border-radius: 16px;
            transition: all 0.3s ease;
        }
        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }
        .btn {
            transition: all 0.2s ease;
        }
        .btn:hover {
            transform: translateY(-1px);
        }
        .tab-active {
            border-bottom: 2px solid #8B5CF6;
            color: #8B5CF6;
        }
        .toast {
            animation: slideIn 0.3s ease, fadeOut 0.5s ease 2.5s forwards;
        }
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }
        .modal {
            animation: modalFade 0.3s ease;
        }
        @keyframes modalFade {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
        /* Fixed chart container */
        #chart-container {
            position: relative;
            height: 300px; /* Reduced height for mobile */
            width: 100%;
        }
        /* Modal styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        .modal-content {
            background: #1E293B;
            border: 1px solid #334155;
            border-radius: 16px;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }
        .modal-overlay.active .modal-content {
            transform: translateY(0);
        }
        /* Transaction card animation */
        .transaction-enter {
            opacity: 0;
            transform: translateY(20px);
        }
        .transaction-enter-active {
            opacity: 1;
            transform: translateY(0);
            transition: opacity 300ms, transform 300ms;
        }
        /* Sticky button container */
        .sticky-button-container {
            position: sticky;
            bottom: 0;
            background: linear-gradient(to top, rgba(15, 23, 42, 0.95) 80%, transparent);
            padding: 20px 0 10px 0;
            margin: 0 -1.5rem; /* Compensate for padding */
            padding-inline: 1.5rem;
        }
        /* Mobile bottom tab bar */
        @media (max-width: 768px) {
            #mobile-tab-bar {
                position: fixed;
                bottom: 0;
                left: 0;
                right: 0;
                z-index: 40;
                display: flex;
                background-color: #0B1120;
                border-top: 1px solid #334155;
                padding: 8px 0;
            }
            #mobile-tab-bar button {
                flex: 1;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                padding: 8px 4px;
                font-size: 0.75rem;
                color: #94A3B8;
            }
            #mobile-tab-bar button.tab-active {
                color: #8B5CF6;
            }
            #mobile-tab-bar i {
                margin-bottom: 4px;
            }
        }
    </style>
  <script src="/nav-active.js" defer></script>
</head>
<body class="min-h-screen">
    <!-- Toast Container -->
    <div id="toast-container" class="fixed top-4 right-4 z-50 space-y-2"></div>
    <!-- Account Status Modal -->
    <div id="account-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="p-6">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-2xl font-bold">ÙˆØ¶Ø¹ÛŒØª Ø­Ø³Ø§Ø¨</h2>
                    <button id="close-modal" class="p-2 rounded-lg hover:bg-dark">
                        <i data-lucide="x" class="w-5 h-5"></i>
                    </button>
                </div>
                <!-- Account Status Section -->
                <div class="mb-6">
                    <div class="flex items-center justify-between p-4 bg-dark rounded-lg">
                        <div>
                            <p class="text-gray-400">Ø³Ø·Ø­ ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø´Ù…Ø§</p>
                            <p class="text-xl font-bold text-yellow-400 mt-1">Ø¹Ø§Ø¯ÛŒ</p>
                        </div>
                        <div class="bg-yellow-400/20 p-3 rounded-lg">
                            <i data-lucide="user" class="w-6 h-6 text-yellow-400"></i>
                        </div>
                    </div>
                    <div class="mt-4 p-4 bg-dark rounded-lg">
                        <h3 class="font-bold mb-3">Ù…Ø²Ø§ÛŒØ§ÛŒ Ø­Ø³Ø§Ø¨ Ø¹Ø§Ø¯ÛŒ</h3>
                        <ul class="space-y-2 text-sm">
                            <li class="flex items-start">
                                <i data-lucide="check" class="w-4 h-4 text-green-500 mt-0.5 ml-2"></i>
                                <span>Ø«Ø¨Øª ÙØ±ÙˆØ´ Ø¨Ø§ Ú©Ø¯ Ø§Ø¹ØªØ¨Ø§Ø±</span>
                            </li>
                            <li class="flex items-start">
                                <i data-lucide="check" class="w-4 h-4 text-green-500 mt-0.5 ml-2"></i>
                                <span>Ù…Ø´Ø§Ù‡Ø¯Ù‡ ØªØ§Ø±ÛŒØ®Ú†Ù‡ ÙØ±ÙˆØ´</span>
                            </li>
                            <li class="flex items-start">
                                <i data-lucide="check" class="w-4 h-4 text-green-500 mt-0.5 ml-2"></i>
                                <span>Ù…Ø´Ø§Ù‡Ø¯Ù‡ ÙˆØ¶Ø¹ÛŒØª ØªØ³ÙˆÛŒÙ‡</span>
                            </li>
                        </ul>
                    </div>
                </div>
                <!-- Upgrade Section -->
                <div class="border-t border-gray-700 pt-6">
                    <h3 class="text-xl font-bold mb-4">Ø§Ø±ØªÙ‚Ø§Ø¡ Ø¨Ù‡ Ø­Ø³Ø§Ø¨ Ù¾Ø±Ù…ÛŒÙˆÙ…</h3>
                    <p class="text-gray-400 mb-4">Ø¨Ø§ Ø§Ø±ØªÙ‚Ø§Ø¡ Ø¨Ù‡ Ø­Ø³Ø§Ø¨ Ù¾Ø±Ù…ÛŒÙˆÙ…ØŒ Ø§Ø² Ù…Ø²Ø§ÛŒØ§ÛŒ ÙˆÛŒÚ˜Ù‡â€ŒØ§ÛŒ Ø¨Ø±Ø®ÙˆØ±Ø¯Ø§Ø± Ø´ÙˆÛŒØ¯:</p>
                    <ul class="mb-4 space-y-2">
                        <li class="flex items-start">
                            <i data-lucide="star" class="w-4 h-4 text-secondary mt-0.5 ml-2"></i>
                            <span>Ù†Ù…Ø§ÛŒØ´ Ø¨Ø§Ù„Ø§ØªØ± Ø¯Ø± Ù†ØªØ§ÛŒØ¬ Ø¬Ø³ØªØ¬Ùˆ</span>
                        </li>
                        <li class="flex items-start">
                            <i data-lucide="star" class="w-4 h-4 text-secondary mt-0.5 ml-2"></i>
                            <span>Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø¢Ù…Ø§Ø± Ù¾ÛŒØ´Ø±ÙØªÙ‡ ÙØ±ÙˆØ´</span>
                        </li>
                        <li class="flex items-start">
                            <i data-lucide="star" class="w-4 h-4 text-secondary mt-0.5 ml-2"></i>
                            <span>Ø§Ù…Ú©Ø§Ù† Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ù…Ø³ØªÙ‚ÛŒÙ… Ø¨Ù‡ Ù…Ø´ØªØ±ÛŒØ§Ù†</span>
                        </li>
                        <li class="flex items-start">
                            <i data-lucide="star" class="w-4 h-4 text-secondary mt-0.5 ml-2"></i>
                            <span>ØªØ®ÙÛŒÙ ÙˆÛŒÚ˜Ù‡ Ø¨Ø±Ø§ÛŒ ØªØ³ÙˆÛŒÙ‡â€ŒØ­Ø³Ø§Ø¨â€ŒÙ‡Ø§ÛŒ Ø¨Ø¹Ø¯ÛŒ</span>
                        </li>
                    </ul>
                    <div class="p-4 bg-dark rounded-lg mb-4">
                        <p class="text-center">
                            <span class="text-lg font-bold">Ù‡Ø²ÛŒÙ†Ù‡ Ø§Ø´ØªØ±Ø§Ú©: </span>
                            <span class="text-xl font-bold text-secondary">120,000 ØªÙˆÙ…Ø§Ù†</span>
                            <span class="text-gray-400"> Ø¯Ø± Ù…Ø§Ù‡</span>
                        </p>
                    </div>
                    <a href="/pay-premium" class="block w-full bg-gradient-to-r from-purple-600 to-secondary hover:from-purple-700 hover:to-green-500 text-white font-bold py-3 px-4 rounded-lg transition duration-200 text-center">
                        Ø§Ø¯Ø§Ù…Ù‡ Ùˆ Ù¾Ø±Ø¯Ø§Ø®Øª
                    </a>
                </div>
            </div>
        </div>
    </div>
    <!-- Performance Modal -->
    <div id="performance-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="p-6">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-2xl font-bold">ÙˆØ¶Ø¹ÛŒØª Ø¹Ù…Ù„Ú©Ø±Ø¯</h2>
                    <button id="close-performance" class="p-2 rounded-lg hover:bg-dark">
                        <i data-lucide="x" class="w-5 h-5"></i>
                    </button>
                </div>
                <div class="grid grid-cols-3 gap-4 mb-4 text-center">
                    <div class="p-4 bg-dark rounded-lg">
                        <p class="text-gray-400 text-sm">Ø§Ù…Ø±ÙˆØ²</p>
                        <p id="invite-today" class="text-xl font-bold mt-1">0</p>
                    </div>
                    <div class="p-4 bg-dark rounded-lg">
                        <p class="text-gray-400 text-sm">Ø§ÛŒÙ† Ù‡ÙØªÙ‡</p>
                        <p id="invite-week" class="text-xl font-bold mt-1">0</p>
                    </div>
                    <div class="p-4 bg-dark rounded-lg">
                        <p class="text-gray-400 text-sm">Ø§ÛŒÙ† Ù…Ø§Ù‡</p>
                        <p id="invite-month" class="text-xl font-bold mt-1">0</p>
                    </div>
                </div>
                <div id="invite-message" class="p-4 rounded-lg text-sm flex items-center"></div>
            </div>
        </div>
    </div>
    <!-- Header -->
    <header class="bg-darker border-b border-gray-800 sticky top-0 z-40">
        <div class="container mx-auto px-4 py-3 flex flex-col items-center gap-2 md:flex-row md:justify-between">
            <div class="flex flex-col items-center gap-2 w-full md:flex-row md:items-center md:w-auto">
                <div class="flex items-center gap-3">
                    <div class="bg-primary w-12 h-12 rounded-full flex items-center justify-center">
                        <i data-lucide="store" class="w-6 h-6"></i>
                    </div>
                    <div class="text-center md:text-right">
                        <h1 class="text-xl font-bold">Ù¾Ù†Ù„ ÙØ±ÙˆØ´Ù†Ø¯Ù‡</h1>
                        <p id="header-store-name" class="text-base text-gray-400">ÙØ±ÙˆØ´Ú¯Ø§Ù‡ ØªÚ©Ù†ÙˆØ´Ø§Ù¾</p>
                    </div>
                </div>
                <!-- STORE-CODE BADGE - Enhanced for mobile -->
                <div role="status" aria-label="Store code" 
                     class="px-5 py-2 rounded-full bg-gradient-to-r from-purple-900/50 to-indigo-900/50 border-2 border-purple-500/50 text-purple-300 text-lg font-bold tracking-wider flex items-center gap-2 shadow-lg shadow-purple-500/20">
                    <i data-lucide="hash" class="w-5 h-5"></i>
                    <span>Ú©Ø¯ ÙØ±ÙˆØ´Ù†Ø¯Ù‡: <span class="select-all text-white">1234</span></span>
                </div>
            </div>
        </div>
    </header>
    <!-- Mobile Navigation -->
    <nav id="mobile-nav" class="bg-darker border-b border-gray-800 hidden md:hidden">
        <div class="container mx-auto px-4 py-3">
            <div class="flex overflow-x-auto space-x-4 space-x-reverse pb-2">
                <button class="tab-btn px-4 py-2 rounded-lg card tab-active" data-tab="dashboard">Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯</button>
                <button class="tab-btn px-4 py-2 rounded-lg card" data-tab="redeem">ØªØ£ÛŒÛŒØ¯ Ø®Ø±ÛŒØ¯ Ù…Ø´ØªØ±ÛŒ</button>
                <button class="tab-btn px-4 py-2 rounded-lg card" data-tab="history">ØªØ§Ø±ÛŒØ®Ú†Ù‡</button>
                <button class="tab-btn px-4 py-2 rounded-lg card" data-tab="settings">ØªÙ†Ø¸ÛŒÙ…Ø§Øª</button>
            </div>
        </div>
    </nav>
    <!-- Main Content -->
    <main class="container mx-auto px-4 py-6 pb-24 md:pb-6">
        <!-- Desktop Navigation -->
        <div class="hidden md:flex mb-6 overflow-x-auto pb-2">
            <div class="flex space-x-2 space-x-reverse">
                <button class="tab-btn px-6 py-3 rounded-lg card tab-active" data-tab="dashboard">Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯</button>
                <button class="tab-btn px-6 py-3 rounded-lg card" data-tab="redeem">ØªØ£ÛŒÛŒØ¯ Ø®Ø±ÛŒØ¯ Ù…Ø´ØªØ±ÛŒ</button>
                <button class="tab-btn px-6 py-3 rounded-lg card" data-tab="history">ØªØ§Ø±ÛŒØ®Ú†Ù‡ ÙØ±ÙˆØ´</button>
                <button class="tab-btn px-6 py-3 rounded-lg card" data-tab="settings">ØªÙ†Ø¸ÛŒÙ…Ø§Øª</button>
            </div>
        </div>
        <!-- Dashboard Tab -->
        <section id="dashboard" class="tab-content">
            <div class="mb-6 text-center md:text-right">
                <h2 id="greeting-store-name" class="text-2xl font-bold mb-2">Ø³Ù„Ø§Ù…ØŒ ÙØ±ÙˆØ´Ú¯Ø§Ù‡ ØªÚ©Ù†ÙˆØ´Ø§Ù¾ ğŸ‘‹</h2>
                <p class="text-gray-400">Ø¨Ù‡ Ù¾Ù†Ù„ ÙØ±ÙˆØ´Ù†Ø¯Ù‡ Ø®ÙˆØ¯ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯</p>
            </div>
            <!-- Stats Cards -->
            <div class="grid grid-cols-1 gap-4 mb-6">
                <div class="card p-5">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-gray-400 text-sm">Ù…Ø¬Ù…ÙˆØ¹ ÙØ±ÙˆØ´ Ø§Ù…Ø±ÙˆØ²</p>
                            <p class="text-2xl font-bold mt-1">2,450,000 ØªÙˆÙ…Ø§Ù†</p>
                        </div>
                        <div class="bg-primary/20 p-3 rounded-lg">
                            <i data-lucide="trending-up" class="w-5 h-5 text-primary"></i>
                        </div>
                    </div>
                </div>
                <div class="card p-5">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-gray-400 text-sm">Ù…Ø¬Ù…ÙˆØ¹ ÙØ±ÙˆØ´ Ø§ÛŒÙ† Ù…Ø§Ù‡</p>
                            <p class="text-2xl font-bold mt-1">42,780,000 ØªÙˆÙ…Ø§Ù†</p>
                        </div>
                        <div class="bg-secondary/20 p-3 rounded-lg">
                            <i data-lucide="calendar" class="w-5 h-5 text-secondary"></i>
                        </div>
                    </div>
                </div>
                <div class="card p-5">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-gray-400 text-sm">Ù…Ø´ØªØ±ÛŒØ§Ù† Ø§Ù…Ø±ÙˆØ²</p>
                            <p class="text-2xl font-bold mt-1">24 Ù†ÙØ±</p>
                        </div>
                        <div class="bg-primary/20 p-3 rounded-lg">
                            <i data-lucide="users" class="w-5 h-5 text-primary"></i>
                        </div>
                    </div>
                </div>
                <div class="card p-5 cursor-pointer" id="account-status-card">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-gray-400 text-sm">Ø³Ø·Ø­ ÙØ±ÙˆØ´Ú¯Ø§Ù‡</p>
                            <p class="text-2xl font-bold mt-1 text-yellow-400">Ø¹Ø§Ø¯ÛŒ</p>
                        </div>
                        <div class="bg-yellow-400/20 p-3 rounded-lg">
                            <i data-lucide="user" class="w-5 h-5 text-yellow-400"></i>
                        </div>
                    </div>
                </div>
                <div class="card p-5 cursor-pointer" id="performance-card">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="font-bold">ÙˆØ¶Ø¹ÛŒØª Ø¹Ù…Ù„Ú©Ø±Ø¯</p>
                            <p class="text-sm text-gray-400 mt-1">ØªØ¹Ø¯Ø§Ø¯ Ø¯Ø¹ÙˆØª Ù…ÙˆÙÙ‚ Ù…Ø´ØªØ±ÛŒ</p>
                        </div>
                        <div class="bg-primary/20 p-3 rounded-lg">
                            <i data-lucide="bar-chart-2" class="w-5 h-5 text-primary"></i>
                        </div>
                    </div>
                </div>
                <div class="card p-5">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-gray-400 text-sm">Ø§Ø¹ØªØ¨Ø§Ø± Ø§Ø³ØªÙØ§Ø¯Ù‡â€ŒØ´Ø¯Ù‡â€ŒÙ” Ø§ÛŒÙ† Ù…Ø§Ù‡</p>
                            <p class="text-2xl font-bold mt-1"><span id="monthUsed">0 ØªÙˆÙ…Ø§Ù†</span></p>
                        </div>
                        <div class="bg-secondary/20 p-3 rounded-lg">
                            <i data-lucide="credit-card" class="w-5 h-5 text-secondary"></i>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Chart and Notifications -->
            <div class="grid grid-cols-1 gap-6">
                <div class="card p-5">
                    <h3 class="font-bold mb-4">ÙØ¹Ø§Ù„ÛŒØª Ø§Ø®ÛŒØ±</h3>
                    <div id="chart-container">
                        <canvas id="activityChart"></canvas>
                    </div>
                </div>
                <div class="card p-5">
                    <h3 class="font-bold mb-4">Ø§Ø¹Ù„Ø§Ù†Ø§Øª Ø³ÛŒØ³ØªÙ…</h3>
                    <div class="space-y-4">
                        <div class="p-3 bg-primary/10 rounded-lg border border-primary/30">
                            <p class="text-sm">ØªØ³ÙˆÛŒÙ‡ Ø­Ø³Ø§Ø¨ Ù…Ø§Ù‡ Ù‚Ø¨Ù„ Ø¯Ø± ØµÙ Ù¾Ø±Ø¯Ø§Ø®Øª Ù‚Ø±Ø§Ø± Ú¯Ø±ÙØª</p>
                            <p class="text-xs text-gray-400 mt-1">2 Ø±ÙˆØ² Ù¾ÛŒØ´</p>
                        </div>
                        <div class="p-3 bg-dark rounded-lg">
                            <p class="text-sm">ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ø´Ù…Ø§ Ø¨Ù‡ Ø³Ø·Ø­ Ù¾Ø±Ù…ÛŒÙˆÙ… Ø§Ø±ØªÙ‚Ø§ ÛŒØ§ÙØª</p>
                            <p class="text-xs text-gray-400 mt-1">5 Ø±ÙˆØ² Ù¾ÛŒØ´</p>
                        </div>
                        <div class="p-3 bg-dark rounded-lg">
                            <p class="text-sm">Ú©Ø¯ ØªØ®ÙÛŒÙ Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ù…Ø´ØªØ±ÛŒØ§Ù† ÙØ¹Ø§Ù„ Ø´Ø¯</p>
                            <p class="text-xs text-gray-400 mt-1">1 Ù‡ÙØªÙ‡ Ù¾ÛŒØ´</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Redeem Tab -->
        <section id="redeem" class="tab-content hidden">
            <div class="card p-6">
                <h2 class="text-2xl font-bold mb-6 text-center md:text-right">ØªØ£ÛŒÛŒØ¯ Ø®Ø±ÛŒØ¯ Ù…Ø´ØªØ±ÛŒ</h2>
                <form id="redeem-form">
                    <div class="mb-5">
                        <label class="block text-gray-400 mb-2">Ú©Ø¯ ØªØ£ÛŒÛŒØ¯ Ù…Ø´ØªØ±ÛŒ</label>
                        <input type="text" id="credit-code" class="w-full bg-dark border border-gray-700 rounded-lg px-4 py-4 md:py-3 focus:outline-none focus:ring-2 focus:ring-primary" placeholder="Ù…Ø«Ø§Ù„: 123456" maxlength="6">
                    </div>
                    <div class="mb-6">
                        <label class="block text-gray-400 mb-2">Ù…Ø¨Ù„Øº Ø®Ø±ÛŒØ¯ (ØªÙˆÙ…Ø§Ù†)</label>
                        <input type="number" id="amount" class="w-full bg-dark border border-gray-700 rounded-lg px-4 py-4 md:py-3 focus:outline-none focus:ring-2 focus:ring-primary" placeholder="Ù…Ø«Ø§Ù„: 500000">
                    </div>
                    <button type="submit" class="w-full bg-primary hover:bg-purple-700 text-white font-bold py-4 md:py-3 px-4 rounded-lg transition duration-200">
                        ØªØ£ÛŒÛŒØ¯ Ø®Ø±ÛŒØ¯
                    </button>
                </form>
            </div>
        </section>
        <!-- History Tab -->
        <section id="history" class="tab-content hidden">
            <div class="card p-6">
                <div class="flex flex-col items-center md:flex-row md:items-center md:justify-between mb-6">
                    <h2 class="text-2xl font-bold mb-4 md:mb-0 text-center md:text-right">ØªØ§Ø±ÛŒØ®Ú†Ù‡ ÙØ±ÙˆØ´ Ø¨Ø§ Ú©Ø¯</h2>
                    <div class="flex space-x-2 space-x-reverse">
                        <input type="text" placeholder="Ø¬Ø³ØªØ¬Ùˆ Ø¨Ø± Ø§Ø³Ø§Ø³ Ú©Ø¯" class="bg-dark border border-gray-700 rounded-lg px-4 py-3 text-sm w-full">
                        <button class="bg-primary hover:bg-purple-700 text-white px-4 py-3 rounded-lg text-sm">
                            <i data-lucide="download" class="w-4 h-4"></i>
                        </button>
                    </div>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-right">
                        <thead>
                            <tr class="border-b border-gray-700">
                                <th class="pb-3 text-gray-400 font-normal">ØªØ§Ø±ÛŒØ®</th>
                                <th class="pb-3 text-gray-400 font-normal">Ú©Ø¯ Ù…Ø´ØªØ±ÛŒ</th>
                                <th class="pb-3 text-gray-400 font-normal">Ù…Ø¨Ù„Øº</th>
                                <th class="pb-3 text-gray-400 font-normal">ÙˆØ¶Ø¹ÛŒØª</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-b border-gray-800 hover:bg-dark/50">
                                <td class="py-4">1402/08/15</td>
                                <td class="py-4">****5678</td>
                                <td class="py-4">1,250,000 ØªÙˆÙ…Ø§Ù†</td>
                                <td class="py-4"><span class="px-2 py-1 bg-green-900/30 text-green-400 rounded-full text-xs">ØªØ£ÛŒÛŒØ¯ Ø´Ø¯Ù‡</span></td>
                            </tr>
                            <tr class="border-b border-gray-800 hover:bg-dark/50">
                                <td class="py-4">1402/08/14</td>
                                <td class="py-4">****2345</td>
                                <td class="py-4">850,000 ØªÙˆÙ…Ø§Ù†</td>
                                <td class="py-4"><span class="px-2 py-1 bg-yellow-900/30 text-yellow-400 rounded-full text-xs">Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø±</span></td>
                            </tr>
                            <tr class="border-b border-gray-800 hover:bg-dark/50">
                                <td class="py-4">1402/08/12</td>
                                <td class="py-4">****9012</td>
                                <td class="py-4">2,100,000 ØªÙˆÙ…Ø§Ù†</td>
                                <td class="py-4"><span class="px-2 py-1 bg-green-900/30 text-green-400 rounded-full text-xs">ØªØ£ÛŒÛŒØ¯ Ø´Ø¯Ù‡</span></td>
                            </tr>
                            <tr class="border-b border-gray-800 hover:bg-dark/50">
                                <td class="py-4">1402/08/10</td>
                                <td class="py-4">****3456</td>
                                <td class="py-4">650,000 ØªÙˆÙ…Ø§Ù†</td>
                                <td class="py-4"><span class="px-2 py-1 bg-red-900/30 text-red-400 rounded-full text-xs">Ø±Ø¯ Ø´Ø¯Ù‡</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
        <!-- Settings Tab -->
        <section id="settings" class="tab-content hidden">
            <div class="card p-6">
                <h2 class="text-2xl font-bold mb-6 text-center md:text-right">ØªÙ†Ø¸ÛŒÙ…Ø§Øª ÙØ±ÙˆØ´Ú¯Ø§Ù‡</h2>
                <form id="settings-form">
                    <div class="mb-5">
                        <label class="block text-gray-400 mb-2">Ù†Ø§Ù… ÙØ±ÙˆØ´Ú¯Ø§Ù‡</label>
                        <input id="input-store-name" type="text" value="ØªÚ©Ù†ÙˆØ´Ø§Ù¾" class="w-full bg-dark border border-gray-700 rounded-lg px-4 py-4 md:py-3 focus:outline-none focus:ring-2 focus:ring-primary">
                    </div>
                    <div class="mb-5">
                        <label class="block text-gray-400 mb-2">Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³</label>
                        <input id="input-contact-number" type="text" value="021-12345678" class="w-full bg-dark border border-gray-700 rounded-lg px-4 py-4 md:py-3 focus:outline-none focus:ring-2 focus:ring-primary">
                    </div>
                    <div class="mb-6">
                        <label class="block text-gray-400 mb-2">Ø³Ø·Ø­ ÙØ±ÙˆØ´Ú¯Ø§Ù‡</label>
                        <div class="p-4 bg-secondary/10 rounded-lg border border-secondary/30 cursor-pointer" id="settings-account-status">
                            <p class="font-bold text-secondary">Ù¾Ø±Ù…ÛŒÙˆÙ…</p>
                            <p class="text-sm text-gray-400 mt-1">ÙØ¹Ø§Ù„ ØªØ§: 1403/02/01</p>
                        </div>
                    </div>
                    <button type="submit" class="w-full bg-primary hover:bg-purple-700 text-white font-bold py-4 md:py-3 px-4 rounded-lg transition duration-200 mb-4">
                        Ø°Ø®ÛŒØ±Ù‡ ØªØºÛŒÛŒØ±Ø§Øª
                    </button>
                </form>
            </div>
        </section>
    </main>
    <!-- Mobile Bottom Tab Bar -->
    <nav id="mobile-tab-bar" class="hidden md:hidden">
        <button class="tab-btn tab-active" data-tab="dashboard">
            <i data-lucide="home" class="w-5 h-5"></i>
            <span>Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯</span>
        </button>
        <button class="tab-btn" data-tab="redeem">
            <i data-lucide="credit-card" class="w-5 h-5"></i>
            <span>ØªØ£ÛŒÛŒØ¯ Ø®Ø±ÛŒØ¯</span>
        </button>
        <button class="tab-btn" data-tab="history">
            <i data-lucide="list" class="w-5 h-5"></i>
            <span>ØªØ§Ø±ÛŒØ®Ú†Ù‡</span>
        </button>
        <button class="tab-btn" data-tab="settings">
            <i data-lucide="settings" class="w-5 h-5"></i>
            <span>ØªÙ†Ø¸ÛŒÙ…Ø§Øª</span>
        </button>
    </nav>
    <script>
        // Initialize Lucide icons
        lucide.createIcons();
        // Tab switching functionality
        document.querySelectorAll('.tab-btn').forEach(button => {
            button.addEventListener('click', () => {
                // Hide all tab contents
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.add('hidden');
                });
                // Remove active class from all tabs
                document.querySelectorAll('.tab-btn').forEach(btn => {
                    btn.classList.remove('tab-active');
                });
                // Show selected tab content
                const tabId = button.getAttribute('data-tab');
                document.getElementById(tabId).classList.remove('hidden');
                // Add active class to clicked tab
                button.classList.add('tab-active');
            });
        });
        // Show mobile tab bar on small screens
        if (window.innerWidth <= 768) {
            document.getElementById('mobile-tab-bar').classList.remove('hidden');
        }
        // Toast notification function
        function showToast(message, type = 'success') {
            const container = document.getElementById('toast-container');
            const toast = document.createElement('div');
            toast.className = `toast px-4 py-3 rounded-lg shadow-lg flex items-center ${
                type === 'success' ? 'bg-green-900/80' : 'bg-red-900/80'
            }`;
            toast.innerHTML = `
                <i data-lucide="${type === 'success' ? 'check-circle' : 'x-circle'}" class="w-5 h-5 ml-2"></i>
                <span>${message}</span>
            `;
            container.appendChild(toast);
            lucide.createIcons();
            // Remove toast after animation
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }
        let remainingCredit = 0;
        function updateRemainingCredit(delta) {
            remainingCredit -= delta;
            const elem = document.getElementById("remainingCredit");
            if (elem) {
                elem.textContent = remainingCredit + " ØªÙˆÙ…Ø§Ù†";
            }
        }
        function addCreditRow(date, code, amount) {
            const tbody = document.querySelector("#deduction-table tbody");
            if (!tbody) return;
            const tr = document.createElement("tr");
            tr.className = "border-b border-gray-800 hover:bg-dark/50 transaction-enter";
            tr.innerHTML = `
                <td class="py-4">${date}</td>
                <td class="py-4 font-mono">****${code.slice(-4)}</td>
                <td class="py-4">${amount} ØªÙˆÙ…Ø§Ù†</td>
            `;
            tbody.prepend(tr);
            requestAnimationFrame(() => tr.classList.add("transaction-enter-active"));
        }
        // Redeem form submission
        document.getElementById('redeem-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const code = document.getElementById('credit-code').value;
            const amount = document.getElementById('amount').value;
            if (!code || !amount) {
                showToast('Ù„Ø·ÙØ§Ù‹ ØªÙ…Ø§Ù… ÙÛŒÙ„Ø¯Ù‡Ø§ Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯', 'error');
                return;
            }
            if (code.length !== 6) {
                showToast('Ú©Ø¯ Ø§Ø¹ØªØ¨Ø§Ø± Ø¨Ø§ÛŒØ¯ 6 Ø±Ù‚Ù… Ø¨Ø§Ø´Ø¯', 'error');
                return;
            }
            // Simulate API call
            setTimeout(() => {
                if (Math.random() > 0.2) {
                    showToast('ØªØ£ÛŒÛŒØ¯ Ø®Ø±ÛŒØ¯ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø«Ø¨Øª Ø´Ø¯');
                    updateRemainingCredit(parseInt(amount, 10));
                    const date = new Date().toLocaleDateString("fa-IR");
                    addCreditRow(date, code, amount);
                    document.getElementById("redeem-form").reset();
                } else {
                    showToast("Ú©Ø¯ Ø§Ø¹ØªØ¨Ø§Ø± Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª", "error");
                }
            }, 1000);
        });
        // Settings form submission
        document.getElementById('settings-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const nameInput = document.getElementById('input-store-name');
            const contactInput = document.getElementById('input-contact-number');
            const newName = nameInput.value.trim();
            const newContact = contactInput.value.trim();
            if (newName) {
                const headerName = document.getElementById('header-store-name');
                const greetingName = document.getElementById('greeting-store-name');
                if (headerName) headerName.textContent = `ÙØ±ÙˆØ´Ú¯Ø§Ù‡ ${newName}`;
                if (greetingName) greetingName.textContent = `Ø³Ù„Ø§Ù…ØŒ ÙØ±ÙˆØ´Ú¯Ø§Ù‡ ${newName} ğŸ‘‹`;
            }
            // Update other contact number displays if present
            document.querySelectorAll('[data-contact-display]').forEach(el => {
                el.textContent = newContact;
            });
            showToast('ØªØºÛŒÛŒØ±Ø§Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯');
        });
        // Initialize chart
        document.addEventListener('DOMContentLoaded', () => {
            const ctx = document.getElementById('activityChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['ÙØ±ÙˆØ±Ø¯ÛŒÙ†', 'Ø§Ø±Ø¯ÛŒØ¨Ù‡Ø´Øª', 'Ø®Ø±Ø¯Ø§Ø¯', 'ØªÛŒØ±', 'Ù…Ø±Ø¯Ø§Ø¯', 'Ø´Ù‡Ø±ÛŒÙˆØ±'],
                    datasets: [{
                        label: 'ÙØ±ÙˆØ´ Ù…Ø§Ù‡Ø§Ù†Ù‡ (ØªÙˆÙ…Ø§Ù†)',
                        data: [32000000, 45000000, 38000000, 52000000, 48000000, 61000000],
                        borderColor: '#8B5CF6',
                        backgroundColor: 'rgba(139, 92, 246, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: '#94A3B8'
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            },
                            ticks: {
                                color: '#94A3B8'
                            }
                        }
                    }
                }
            });
        });
        // Account modal functionality
        const accountModal = document.getElementById('account-modal');
        const closeModal = document.getElementById('close-modal');
        const accountStatusCard = document.getElementById('account-status-card');
        const settingsAccountStatus = document.getElementById('settings-account-status');
        const openModal = () => {
            accountModal.classList.add('active');
            document.body.style.overflow = 'hidden';
            lucide.createIcons();
        };
        const closeModalFunc = () => {
            accountModal.classList.remove('active');
            document.body.style.overflow = 'auto';
        };
        accountStatusCard.addEventListener('click', openModal);
        settingsAccountStatus.addEventListener('click', openModal);
        closeModal.addEventListener('click', closeModalFunc);
        accountModal.addEventListener('click', (e) => {
            if (e.target === accountModal) {
                closeModalFunc();
            }
        });
// Performance modal functionality
const performanceModal = document.getElementById('performance-modal');
const performanceCard = document.getElementById('performance-card');
const closePerformance = document.getElementById('close-performance');
const inviteData = { today: 2, week: 9, month: 12, required: 15 };
function updatePerformance() {
    document.getElementById('invite-today').textContent = inviteData.today;
    document.getElementById('invite-week').textContent = inviteData.week;
    document.getElementById('invite-month').textContent = inviteData.month;
    const msg = document.getElementById('invite-message');
    if (inviteData.month >= inviteData.required) {
        msg.className = 'p-4 rounded-lg text-sm flex items-center bg-green-900/20 text-green-400';
        msg.innerHTML = '<i data-lucide="check-circle" class="w-5 h-5 ml-2"></i>Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ù¾Ø§Ø¯Ø§Ø´ Ù…Ø§Ù‡ Ø¨Ø¹Ø¯ ÙˆØ§Ø¬Ø¯ Ø´Ø±Ø§ÛŒØ· Ù‡Ø³ØªÛŒØ¯.';
    } else {
        const remaining = inviteData.required - inviteData.month;
        msg.className = 'p-4 rounded-lg text-sm flex items-center bg-yellow-900/20 text-yellow-400';
        msg.innerHTML = `<i data-lucide="alert-triangle" class="w-5 h-5 ml-2"></i>Ø¨Ø±Ø§ÛŒ ÙˆØ§Ø¬Ø¯ Ø´Ø±Ø§ÛŒØ· Ø´Ø¯Ù† Ø¨Ø§ÛŒØ¯ ${remaining} Ù…Ø´ØªØ±ÛŒ Ø¯ÛŒÚ¯Ø± Ø¯Ø¹ÙˆØª Ú©Ù†ÛŒØ¯.`;
    }
    lucide.createIcons();
}
const openPerformanceModal = () => {
    updatePerformance();
    performanceModal.classList.add('active');
    document.body.style.overflow = 'hidden';
};
const closePerformanceModal = () => {
    performanceModal.classList.remove('active');
    document.body.style.overflow = 'auto';
};
performanceCard.addEventListener('click', openPerformanceModal);
closePerformance.addEventListener('click', closePerformanceModal);
performanceModal.addEventListener('click', (e) => {
    if (e.target === performanceModal) closePerformanceModal();
});

</script>
</body>
</html>
