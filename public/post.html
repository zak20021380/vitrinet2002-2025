<!DOCTYPE html>
<html lang="fa" dir="rtl">

<head>
  <meta http-equiv="Strict-Transport-Security" content="max-age=63072000; includeSubDomains; preload">
  <meta http-equiv="Referrer-Policy" content="no-referrer">
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta http-equiv="X-XSS-Protection" content="1; mode=block">
  <meta name="referrer" content="no-referrer">
  <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=()">

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ثبت فروشگاه - ویترینت</title>
  <meta name="description"
    content="فرم ثبت فروشگاه جدید در ویترینت با انتخاب نام و آدرس اختصاصی فروشگاه. همین حالا فروشگاه آنلاین خود را راه‌اندازی کنید!" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Vazirmatn', sans-serif;
      background: linear-gradient(115deg, #e0fdfa 0%, #f8fafc 60%, #d4fbe8 100%);
      min-height: 100vh;
    }

    .glass {
      background: rgba(255, 255, 255, 0.92);
      box-shadow: 0 10px 38px #10b98119, 0 2px 10px #0ea5e914;
      border-radius: 1.5rem;
      backdrop-filter: blur(10px);
    }

    .brand-btn {
      background: linear-gradient(90deg, #10b981 10%, #0ea5e9 100%);
      color: #fff !important;
      font-weight: bold;
      border-radius: 1rem;
      transition: all .17s;
      box-shadow: 0 2px 12px #10b98126;
    }

    .brand-btn:hover {
      filter: brightness(1.08);
    }

    .primary-text {
      color: #10b981;
    }

    input[type="password"]:invalid {
      background: #fef2f2;
      border-color: #ef4444;
    }

    /* Enhanced mobile header styles */

    .nav-links {
      position: fixed;
      top: 0;
      right: -100%;
      width: 70%;
      max-width: 280px;
      height: 100vh;
      background: white;
      box-shadow: -2px 0 10px rgba(0, 0, 0, 0.1);
      transition: right 0.3s ease;
      z-index: 100;
      padding: 1.5rem;
      overflow-y: auto;
    }

    .nav-links.active {
      right: 0;
    }

    .mobile-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 99;
      display: none;
    }

    .mobile-overlay.active {
      display: block;
    }

    .glass {
      padding: 1.25rem !important;
    }

    @media (max-width: 400px) {
      .glass {
        padding: 1rem !important;
        border-radius: 1.25rem;
      }

      .header-logo {
        font-size: 1.25rem !important;
      }
    }

    .fadein {
      animation: fadein .7s;
    }

    @keyframes fadein {
      from {
        opacity: 0;
        transform: translateY(30px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    #category.open {
      position: absolute;
      z-index: 50;
      background: #fff;
      width: 100%;
      max-height: 15rem;
      overflow-y: auto;
    }

    /* Optimized hamburger menu */
    .hamburger {
      width: 24px;
      height: 20px;
      position: relative;
      cursor: pointer;
      display: inline-block;
      z-index: 101;
    }

    .hamburger span {
      background: #374151;
      border-radius: 2px;
      height: 3px;
      width: 100%;
      position: absolute;
      transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      left: 0;
    }

    .hamburger span:nth-child(1) {
      top: 0;
    }

    .hamburger span:nth-child(2) {
      top: 8px;
    }

    .hamburger span:nth-child(3) {
      top: 16px;
    }

    .hamburger.active span:nth-child(1) {
      transform: rotate(45deg);
      top: 8px;
    }

    .hamburger.active span:nth-child(2) {
      opacity: 0;
    }

    .hamburger.active span:nth-child(3) {
      transform: rotate(-45deg);
      top: 8px;
    }
  </style>
  <script src="/nav-active.js" defer></script>

  <!-- TODO: فعال‌سازی پست‌هاگ را هنگام انتشار فراموش نکنید | TODO: Enable PostHog analytics when going live -->
  <!--
<script>
  (function () {
    var config = window.POSTHOG_CONFIG || { enabled: false, apiKey: 'phc_YOUR_KEY_HERE', apiHost: 'https://analytics.vitreenet.ir' };
    if (!config.enabled) {
      return; // فعال نیست | Not enabled yet
    }
    try {
      (function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")),p.type="text/javascript",p.async=!0,p.src=s.api_host+"/static/array.js";(r=t.getElementsByTagName("script")[0]),r.parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:u=e,u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==u._i&&(e+="."+u._i),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"};n="capture identify alias people.set people.set_once people.unset people.increment people.append people.union people.remove people.clear_opt_out_outcome register register_once unregister opt_out_capturing opt_in_capturing has_opted_out_capturing reset isFeatureEnabled onFeatureFlags reloadFeatureFlags group".split(" ");for(o=0;o<n.length;o++)g(u,n[o]);e._i.push([i,s,a])},e.__SV=1.1)})(document, window.posthog || []);
      window.posthog.init(config.apiKey, { api_host: config.apiHost, capture_pageview: true, advanced_disable_decide: true });
    } catch (error) {
      console.warn('PostHog init failed (preview mode):', error);
    }
  })();
</script>
-->

</head>

<body class="text-gray-800">

  <!-- Enhanced Mobile-First Header -->
  <header class="w-full bg-white/95 shadow-sm backdrop-blur-md sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16">
        <!-- Logo -->
        <div class="flex-shrink-0">
          <a href="index.html"
            class="header-logo font-bold text-[1.5rem] sm:text-[1.75rem] md:text-[2rem] bg-gradient-to-l from-[#11d6ad] via-[#10b981] to-[#2db4e8] bg-clip-text text-transparent"
            style="letter-spacing:1.5px;">ویترینت</a>
        </div>

        <!-- Desktop Navigation -->
        <nav class="hidden sm:flex items-center space-x-1 sm:space-x-2 md:space-x-4 rtl:space-x-reverse">
          <a href="index.html"
            class="text-gray-700 hover:text-[#10b981] font-medium px-3 py-2 text-sm md:text-base transition-colors duration-200">خانه</a>
          <a href="categories.html"
            class="text-gray-700 hover:text-[#0ea5e9] font-medium px-3 py-2 text-sm md:text-base transition-colors duration-200">دسته‌بندی</a>
          <a href="login.html"
            class="text-gray-700 hover:text-[#0ea5e9] font-medium px-3 py-2 text-sm md:text-base transition-colors duration-200">ورود</a>
        </nav>

        <!-- Mobile menu button -->
        <button class="mobile-menu-btn hamburger sm:hidden" id="mobile-menu-btn" aria-label="منوی موبایل">
          <span></span>
          <span></span>
          <span></span>
        </button>
      </div>
    </div>

    <!-- Mobile Navigation -->
    <div class="nav-links sm:hidden" id="mobile-menu">
      <div class="flex items-center justify-between mb-6">
        <span class="font-bold text-lg text-gray-800">منو</span>
        <button class="text-gray-500 hover:text-gray-700" id="close-menu">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>
      <div class="space-y-3">
        <a href="index.html"
          class="block text-gray-700 hover:text-[#10b981] font-medium py-3 px-4 rounded-lg hover:bg-gray-50 transition-all duration-200">خانه</a>
        <a href="categories.html"
          class="block text-gray-700 hover:text-[#0ea5e9] font-medium py-3 px-4 rounded-lg hover:bg-gray-50 transition-all duration-200">دسته‌بندی</a>
        <a href="login.html"
          class="block text-gray-700 hover:text-[#0ea5e9] font-medium py-3 px-4 rounded-lg hover:bg-gray-50 transition-all duration-200">ورود</a>
      </div>
    </div>

    <!-- Mobile Overlay -->
    <div class="mobile-overlay" id="mobile-overlay"></div>
  </header>

  <!-- فرم ثبت فروشگاه -->
  <main class="max-w-xl mx-auto min-h-screen flex flex-col justify-center items-center px-2" style="margin-top:48px;">
    <section class="glass border rounded-2xl shadow-2xl p-6 sm:p-10" id="register-section">
      <h2 class="text-2xl sm:text-3xl font-extrabold primary-text mb-7 text-center">ثبت فروشگاه جدید</h2>
      <form class="space-y-5" id="signup-form" autocomplete="off" novalidate>

        <!-- نام فروشنده -->
        <div>
          <label class="block text-sm font-bold mb-1">نام فروشنده <span class="text-red-500">*</span></label>
          <input required type="text" name="firstname" id="firstname"
            class="w-full p-3 border rounded-xl focus:ring-2 focus:ring-green-200" placeholder="مثلاً علی"
            data-only-persian="true" title="لطفاً فقط با حروف فارسی وارد کنید." />
          <div id="firstname-hint" class="text-xs mt-2 text-red-500 hidden"></div>
        </div>

        <!-- نام خانوادگی فروشنده -->
        <div>
          <label class="block text-sm font-bold mb-1">نام خانوادگی فروشنده <span class="text-red-500">*</span></label>
          <input required type="text" name="lastname" id="lastname"
            class="w-full p-3 border rounded-xl focus:ring-2 focus:ring-green-200" placeholder="مثلاً حسینی"
            data-only-persian="true" title="لطفاً فقط با حروف فارسی وارد کنید." />
          <div id="lastname-hint" class="text-xs mt-2 text-red-500 hidden"></div>
        </div>

        <!-- نام فروشگاه -->
        <div>
          <label class="block text-sm font-bold mb-1">نام فروشگاه <span class="text-red-500">*</span></label>
          <input required type="text" name="storename" id="storename"
            class="w-full p-3 border rounded-xl focus:ring-2 focus:ring-green-200" placeholder="مثلاً گل‌فروش مرکزی" />
          <div id="storename-hint" class="text-xs mt-2 text-red-500 hidden"></div>
        </div>

        <!-- نمایش و ساخت آدرس فروشگاه -->
        <div>
          <label class="block text-sm font-bold mb-1 flex items-center gap-1">
            نام آدرس فروشگاه <span class="text-red-500">*</span>
            <span class="ml-2 text-xs text-gray-500 font-normal">(فقط حروف انگلیسی کوچک و عدد، حداقل ۴ و حداکثر ۱۰
              کاراکتر، بدون فاصله و کاراکتر خاص)</span>
          </label>
          <div class="flex items-center gap-2">
            <span class="whitespace-nowrap text-xs sm:text-base text-gray-500">vitreenet.ir/</span>
            <input required type="text" name="shopurl" id="shopurl" pattern="^[a-z0-9]{4,10}$"
              class="flex-1 p-3 border rounded-xl focus:ring-2 focus:ring-green-200 text-left ltr" placeholder="shopgol"
              maxlength="10" autocomplete="off" />
          </div>
          <div class="mt-2">
            <span class="text-xs bg-gray-100 rounded p-1" id="address-preview">آدرس فروشگاه شما:
              vitreenet.ir/shopgol</span>
          </div>
          <div class="text-xs text-gray-500 mt-2 bg-gray-50 rounded p-2">
            <strong>راهنما:</strong>
            <ul class="list-disc pr-5 mt-1">
              <li>فقط از حروف انگلیسی کوچک و عدد استفاده کنید.</li>
              <li>حداقل ۴ و حداکثر ۱۰ کاراکتر.</li>
              <li>از فاصله و کاراکترهای خاص (مثل @, #, !, ؟ و ...) استفاده نکنید.</li>
              <li>این نام بخشی از آدرس فروشگاه شما خواهد بود (<b>vitreenet.ir/</b>).</li>
              <li>مثال: <b>shopgol</b> | <b>cakebox</b> | <b>bookcity</b></li>
            </ul>
            <div id="shopurl-hint" class="text-red-500 mt-2 hidden"></div>
          </div>
        </div>
        <!-- پایان ساخت آدرس فروشگاه -->

        <div>
          <label class="block text-sm font-bold mb-1">شماره تماس <span class="text-red-500">*</span></label>
          <input required type="tel" id="phone" pattern="^09\d{9}$" name="phone"
            class="w-full p-3 border rounded-xl focus:ring-2 focus:ring-green-200" placeholder="0912xxxxxxx" />
          <div id="phone-hint" class="text-xs mt-2 text-red-500 hidden"></div>
        </div>

        <div class="relative">
          <label class="block text-sm font-bold mb-1">دسته‌بندی <span class="text-red-500">*</span></label>
          <select required name="category" id="category"
            class="w-full p-3 border rounded-xl focus:ring-2 focus:ring-green-200 bg-white">
            <option value="" disabled selected>در حال بارگذاری...</option>
          </select>

          <!-- START: service examples (visible only for service categories) -->
          <div id="service-examples" class="hidden mt-2 rounded-xl border border-gray-200 bg-gray-50 p-2.5">
            <div class="text-xs text-gray-600 mb-1.5 font-bold">زیر گروه</div>
            <div id="service-examples-chips" class="flex flex-wrap gap-2"></div>
            <input type="hidden" id="subcategory" />
            <div id="subcategory-hint" class="text-xs mt-2 text-red-500 hidden"></div>
            <div class="text-[11px] text-gray-500 mt-2">برای انتخاب زیر گروه، روی گزینه موردنظر کلیک کنید.</div>
          </div>
          <!-- END: service examples -->

          <div id="category-hint" class="text-xs mt-2 text-red-500 hidden"></div>
        </div>

        <div>
          <label class="block text-sm font-bold mb-1">شهر</label>
          <input type="text" readonly value="سنندج"
            class="w-full p-3 border rounded-xl bg-gray-100 text-gray-500 focus:ring-0 cursor-not-allowed" />
        </div>

        <div>
          <label class="block text-sm font-bold mb-1">آدرس دقیق <span class="text-red-500">*</span></label>
          <input required type="text" name="address" id="address"
            class="w-full p-3 border rounded-xl focus:ring-2 focus:ring-green-200" placeholder="خیابان، کوچه، پلاک..."
            data-only-persian="true" title="لطفاً فقط با حروف فارسی وارد کنید." />
          <div id="address-hint" class="text-xs mt-2 text-red-500 hidden"></div>
        </div>

        <div>
          <label class="block text-sm font-bold mb-1">توضیحات فروشگاه</label>
          <textarea name="desc" id="desc"
            class="w-full p-3 border rounded-xl resize-none focus:ring-2 focus:ring-green-200" rows="3"
            placeholder="توضیحی درباره نوع خدمات یا محصولات..." data-only-persian="true"
            title="لطفاً فقط با حروف فارسی وارد کنید."></textarea>
          <div id="desc-hint" class="text-xs mt-2 text-red-500 hidden"></div>
        </div>

        <div>
          <label class="block text-sm font-bold mb-1">کد معرف <span
              class="text-gray-400 font-normal text-xs">(اختیاری)</span></label>
          <input type="text" name="referral_code" id="referral_code"
            class="w-full p-3 border rounded-xl focus:ring-2 focus:ring-green-200"
            placeholder="اگر کد معرف دارید وارد کنید" />
        </div>

        <div>
          <label class="block text-sm font-bold mb-1 flex items-center gap-1">
            رمز عبور <span class="text-red-500">*</span>
            <span class="ml-2 text-xs text-gray-500 font-normal">(حداقل ۸ کاراکتر، شامل عدد، حرف انگلیسی و نماد)</span>
          </label>
          <div class="relative">
            <input required type="password" id="pass1" minlength="8"
              class="w-full p-3 pl-12 border rounded-xl focus:ring-2 focus:ring-green-200"
              placeholder="رمز عبور قوی وارد کنید" autocomplete="new-password" />
            <button type="button" data-target="pass1" data-visible="false"
              class="password-toggle absolute inset-y-0 left-3 flex items-center text-gray-400 hover:text-gray-600 transition focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-[#10b981]/60"
              aria-label="نمایش رمز عبور" aria-pressed="false">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="1.8" viewBox="0 0 24 24"
                aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M2.25 12c1.5-4 5.25-7.5 9.75-7.5s8.25 3.5 9.75 7.5c-1.5 4-5.25 7.5-9.75 7.5S3.75 16 2.25 12z" />
                <circle cx="12" cy="12" r="3" stroke-linecap="round" stroke-linejoin="round"></circle>
              </svg>
            </button>
          </div>
        </div>

        <div>
          <label class="block text-sm font-bold mb-1">تکرار رمز عبور <span class="text-red-500">*</span></label>
          <div class="relative">
            <input required type="password" id="pass2" minlength="8"
              class="w-full p-3 pl-12 border rounded-xl focus:ring-2 focus:ring-green-200"
              placeholder="رمز را دوباره وارد کنید" autocomplete="new-password" />
            <button type="button" data-target="pass2" data-visible="false"
              class="password-toggle absolute inset-y-0 left-3 flex items-center text-gray-400 hover:text-gray-600 transition focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-[#10b981]/60"
              aria-label="نمایش رمز عبور" aria-pressed="false">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="1.8" viewBox="0 0 24 24"
                aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M2.25 12c1.5-4 5.25-7.5 9.75-7.5s8.25 3.5 9.75 7.5c-1.5 4-5.25 7.5-9.75 7.5S3.75 16 2.25 12z" />
                <circle cx="12" cy="12" r="3" stroke-linecap="round" stroke-linejoin="round"></circle>
              </svg>
            </button>
          </div>
          <div id="pass-hint" class="text-xs mt-2 text-red-500 hidden"></div>
        </div>

        <!-- قوانین سایت -->
        <div class="flex items-center gap-2 mt-3">
          <input required type="checkbox" id="rules" class="accent-[#10b981] w-5 h-5 rounded border-gray-400" />
          <label for="rules" class="text-sm select-none">
            <span>قوانین سایت را مطالعه کرده‌ام و قبول دارم.</span>
            <a href="rules.html" target="_blank" rel="noopener noreferrer"
              class="text-[#0ea5e9] underline hover:text-[#10b981]">مطالعه قوانین</a>
          </label>
        </div>
        <div id="rules-hint" class="text-xs mt-2 text-red-500 hidden"></div>

        <button type="submit"
          class="w-full brand-btn text-white py-3 rounded-xl font-bold text-lg shadow-md hover:opacity-90 transition mt-2">
          ثبت فروشگاه
        </button>

        <div id="pass-guide" class="text-xs text-gray-500 mt-1 text-center">
          رمز باید حداقل ۸ کاراکتر و ترکیبی از اعداد، حروف انگلیسی و نمادهایی مثل ! @ # $ % ^ & * باشد.
        </div>
      </form>

    </section>

    <!-- مرحله تایید کد پیامکی -->
    <section class="glass border rounded-2xl shadow-2xl p-6 sm:p-10 fadein hidden" id="verify-section">
      <h2 class="text-xl sm:text-2xl font-extrabold text-[#10b981] mb-4 text-center">تأیید شماره موبایل</h2>
      <div class="text-center text-gray-600 text-sm mb-6">
        کد ۵ رقمی ارسال شده به شماره <span id="verify-phone" class="font-bold text-gray-800"></span> را وارد کنید.
        <div class="mt-2 text-xs text-gray-500">اگر پیامک دریافت نکردید، تا ۶۰ ثانیه صبر کنید یا شماره را بررسی نمایید.
        </div>
      </div>
      <form class="flex flex-col items-center gap-5" id="verify-form" autocomplete="off">
        <input type="text" inputmode="numeric" pattern="^\d{5}$" maxlength="5" id="sms-code"
          class="w-40 text-center border rounded-xl p-3 text-lg font-bold tracking-widest focus:ring-2 focus:ring-green-200"
          placeholder="-----" required />
        <div id="code-hint" class="text-xs text-red-500 hidden"></div>
        <button type="submit"
          class="w-full brand-btn text-white py-3 rounded-xl font-bold text-lg shadow-md hover:opacity-90 transition">
          تأیید کد
        </button>
        <button type="button" id="resend-btn" class="text-xs text-[#0ea5e9] underline hover:text-[#10b981] mt-2"
          disabled>ارسال مجدد کد <span id="resend-timer">(60)</span></button>
      </form>
    </section>
  </main>

  <!-- فوتر -->
  <footer class="mt-20 bg-white border-t text-center text-sm text-gray-500 py-4">
    © 2025 <span class="font-bold text-[#10b981]">ویترینت</span> | همه حقوق محفوظ است.
  </footer>

  <script src="/js/post.js" defer></script>


  <!-- TODO: افزودن رویدادهای PostHog پس از فعال‌سازی | TODO: Enable PostHog events after activation -->
  <!--
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const safeCapture = window.safePosthogCapture || function () {};
    // safeCapture('event_name', { /* داده‌های تکمیلی */ });
  });
</script>
-->

</body>

</html>