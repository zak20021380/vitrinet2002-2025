<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://cdn.tailwindcss.com https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdn.jsdelivr.net; font-src 'self' https://fonts.gstatic.com https://cdn.jsdelivr.net data:; connect-src 'self'; img-src 'self' data:; base-uri 'self'; form-action 'self'; upgrade-insecure-requests; block-all-mixed-content">
<meta http-equiv="Strict-Transport-Security" content="max-age=63072000; includeSubDomains; preload">
<meta http-equiv="Referrer-Policy" content="no-referrer">
<meta http-equiv="X-Content-Type-Options" content="nosniff">
<meta http-equiv="X-XSS-Protection" content="1; mode=block">
<meta name="referrer" content="no-referrer">
<meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=()">
<script src="/security.js" defer></script>

<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title id="page-title">مراکز خدماتی شهر | Vitreenet</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="style-service-directory.css" />
<link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@800&display=swap" rel="stylesheet" />
<link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet" />

<script src="/nav-active.js" defer></script>

</head>
<body class="text-gray-800 overflow-x-hidden flex flex-col min-h-screen">
  <header class="w-full bg-white/30 sm:bg-white/90 backdrop-blur-xl sm:backdrop-blur-md shadow-none sm:shadow-sm sticky top-0 z-50">
    <div class="max-w-7xl mx-auto flex flex-nowrap sm:flex-wrap items-center justify-between px-4 sm:px-6 py-2 sm:py-3 gap-y-2">
      <div class="flex items-center gap-2 flex-shrink-0">
        <a href="index.html" class="logo-vitreenet">Vitreenet</a>
        <div class="flex items-center gap-1 px-2 py-1 rounded-full ml-2" style="background:linear-gradient(90deg,#10b981E6 70%,#0ea5e9E6); backdrop-filter: blur(5px);">
          <svg width="16" height="16" fill="none" viewBox="0 0 22 22" class="ml-1 drop-shadow">
            <defs>
              <linearGradient id="city-icon" x1="0" y1="0" x2="22" y2="22" gradientUnits="userSpaceOnUse">
                <stop stop-color="#fff" />
                <stop offset="1" stop-color="#b2f2e9" />
              </linearGradient>
            </defs>
            <path d="M11 2.5C7.13 2.5 4 5.61 4 9.45c0 3.52 4.1 7.93 6.2 10.01.46.47 1.2.47 1.66 0 2.1-2.08 6.14-6.49 6.14-10.01C18 5.61 14.87 2.5 11 2.5Zm0 10.25a2.75 2.75 0 1 1 0-5.5 2.75 2.75 0 0 1 0 5.5Z" fill="url(#city-icon)"/>
          </svg>
          <span class="font-bold text-white text-xs sm:text-sm drop-shadow-sm" style="letter-spacing:.3px;">سنندج</span>
        </div>
      </div>
      <nav id="desktopNav" class="flex items-center justify-end gap-2 sm:gap-3 flex-nowrap text-sm sm:text-base w-auto">
        <a href="index.html" class="main-nav-link flex-1 md:flex-none flex flex-col items-center justify-center gap-1 text-gray-600 hover:text-teal-600 font-bold px-2 sm:px-3 transition hide-on-mobile text-[12px] md:text-base">
          <i class="ri-home-5-line text-lg md:hidden"></i>
          <span>خانه</span>
        </a>
        <a href="categories.html" class="main-nav-link flex-1 md:flex-none flex flex-col items-center justify-center gap-1 text-gray-600 hover:text-sky-600 font-bold px-2 sm:px-3 transition hide-on-mobile text-[12px] md:text-base">
          <i class="ri-layout-grid-line text-lg md:hidden"></i>
          <span>دسته‌بندی</span>
        </a>
        <a href="login.html" class="main-nav-link flex-1 md:flex-none flex flex-col items-center justify-center gap-1 text-gray-600 hover:text-sky-600 font-bold px-2 sm:px-3 transition hide-on-mobile text-[12px] md:text-base">
          <i class="ri-login-box-line text-lg md:hidden"></i>
          <span>ورود</span>
        </a>
        <a href="post.html" id="registerShopBtn" class="btn-grad px-3 sm:px-4 py-1 rounded-full font-bold text-sm transition sm:shadow sm:hover:scale-105">
          <span>ثبت فروشگاه</span>
        </a>
      </nav>
    </div>
  </header>

  <main class="flex-1 w-full">
    <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-6 pb-8">
      <div class="glass-surface border border-slate-100/80 p-6 sm:p-8 rounded-3xl">
        <div class="grid gap-5 lg:grid-cols-12 items-end">
          <div class="lg:col-span-5">
            <label for="search-input" class="text-sm font-semibold text-slate-500">جستجو در خدمات</label>
            <div class="relative mt-2">
              <input id="search-input" type="search" placeholder="نام خدمت یا محله را وارد کنید" class="w-full rounded-2xl border border-slate-200 bg-white/80 px-5 py-3 text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:border-emerald-300 shadow-sm">
              <span class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400">
                <svg viewBox="0 0 24 24" class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="7"/><path d="m20 20-3-3" stroke-linecap="round" stroke-linejoin="round"/></svg>
              </span>
            </div>
          </div>
          <div class="lg:col-span-3">
            <label for="category-select" class="text-sm font-semibold text-slate-500">دسته‌بندی</label>
            <select id="category-select" class="mt-2 w-full rounded-2xl border border-slate-200 bg-white/80 px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-400">
              <option value="all">همه خدمات</option>
            </select>
          </div>
          <div class="lg:col-span-2">
            <label for="sort-select" class="text-sm font-semibold text-slate-500">مرتب‌سازی</label>
            <select id="sort-select" class="mt-2 w-full rounded-2xl border border-slate-200 bg-white/80 px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-400">
              <option value="best">بهترین امتیاز</option>
              <option value="popular">محبوب‌ترین</option>
              <option value="price">کمترین هزینه</option>
            </select>
          </div>
          <div class="lg:col-span-2">
            <label for="rating-select" class="text-sm font-semibold text-slate-500">حداقل امتیاز</label>
            <select id="rating-select" class="mt-2 w-full rounded-2xl border border-slate-200 bg-white/80 px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-400">
              <option value="0">همه امتیازها</option>
              <option value="4">۴ به بالا</option>
              <option value="4.5">۴.۵ به بالا</option>
              <option value="4.7">۴.۷ به بالا</option>
            </select>
          </div>
        </div>
      </div>
    </section>

    <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-8">
      <div class="glass-surface p-6 sm:p-10 relative overflow-hidden">
        <div class="absolute -left-10 top-1/2 -translate-y-1/2 w-40 h-40 bg-gradient-to-br from-emerald-200/50 to-sky-200/60 blur-3xl rounded-full"></div>
        <div class="absolute -right-16 -top-16 w-48 h-48 bg-gradient-to-bl from-sky-200/60 to-emerald-200/60 blur-3xl rounded-full"></div>
        <div class="relative z-10 flex flex-col lg:flex-row lg:items-start lg:justify-between gap-8">
          <div class="max-w-2xl">
            <span class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-emerald-50 text-emerald-600 font-semibold mb-4">
              <svg viewBox="0 0 24 24" class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 13l4 4L19 7" stroke-linecap="round" stroke-linejoin="round"/></svg>
              انتخاب هوشمند خدمات
            </span>
            <h1 id="hero-title" class="text-3xl sm:text-4xl font-black text-slate-800 leading-tight mb-4">مراکز خدماتی برتر سنندج</h1>
            <p id="hero-subtitle" class="text-slate-600 text-base sm:text-lg leading-relaxed">
              بهترین سالن‌های زیبایی، کارواش‌ها و ارائه‌دهندگان خدمات شهری با امکان رزرو آنلاین، مشاهده نظرات کاربران و مقایسه قیمت.
            </p>
          </div>
          <div class="glass-surface w-full sm:w-auto lg:min-w-[320px] p-5 sm:p-6 rounded-3xl border border-white/60 shadow-lg bg-white/90">
            <div class="flex items-center gap-3 mb-4">
              <span class="w-10 h-10 rounded-full flex items-center justify-center bg-emerald-100 text-emerald-600">
                <svg viewBox="0 0 24 24" class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2v-4H9v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" stroke-linecap="round" stroke-linejoin="round"/></svg>
              </span>
              <div>
                <p class="text-xs text-slate-400">انتخاب شهر</p>
                <p class="text-base font-bold text-slate-700">سنندج و حومه</p>
              </div>
            </div>
            <div class="grid grid-cols-2 gap-3 text-sm font-semibold text-slate-500">
              <div class="glass-surface bg-gradient-to-br from-white to-slate-50 border border-slate-100 rounded-2xl px-4 py-3 text-center shadow-sm">
                <p class="text-xs text-slate-400 mb-1">مراکز فعال</p>
                <p id="stats-count" class="text-xl font-black text-slate-800">0</p>
              </div>
              <div class="glass-surface bg-gradient-to-br from-white to-slate-50 border border-slate-100 rounded-2xl px-4 py-3 text-center shadow-sm">
                <p class="text-xs text-slate-400 mb-1">میانگین امتیاز</p>
                <p id="stats-rating" class="text-xl font-black text-emerald-600">0</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-20">
      <div class="directory-layout">
        <section id="shops-section" class="directory-panel directory-panel--primary">
          <div class="flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between mb-6">
            <div>
              <h2 class="text-2xl font-extrabold text-slate-800 mb-1">نتایج فیلتر شده</h2>
              <p id="results-subtitle" class="text-sm text-slate-500">مراکز ارائه‌دهنده خدمات مطابق با معیارهای شما</p>
            </div>
            <div class="flex flex-wrap items-center justify-end gap-3 sm:gap-4">
              <span class="badge-emerald badge" id="results-count">۰ نتیجه</span>
              <div id="view-mode-toggle" class="view-toggle-group">
                <button type="button" class="view-toggle-button" data-mode="all" data-active="true">
                  <i class="ri-layout-grid-line"></i>
                  <span>همه</span>
                </button>
                <button type="button" class="view-toggle-button" data-mode="shops" data-active="false">
                  <i class="ri-store-2-line"></i>
                  <span>فقط مغازه‌ها</span>
                </button>
                <button type="button" class="view-toggle-button" data-mode="portfolios" data-active="false">
                  <i class="ri-gallery-line"></i>
                  <span>فقط نمونه‌کارها</span>
                </button>
              </div>
            </div>
          </div>

          <div id="shops-content" class="space-y-0">
            <div id="results-loading" class="hidden py-14 flex justify-center">
              <div class="loading-spinner" role="status" aria-label="در حال بارگذاری"></div>
            </div>

            <div id="results-grid" class="grid gap-5 sm:gap-6 md:gap-7 grid-cols-1 sm:grid-cols-2 md:grid-cols-3">
            </div>

            <div id="empty-state" class="hidden glass-surface mt-8 p-8 rounded-3xl text-center border border-dashed border-emerald-200/70">
              <div class="mx-auto w-16 h-16 rounded-full bg-emerald-50 text-emerald-500 flex items-center justify-center mb-4">
                <svg viewBox="0 0 24 24" class="w-8 h-8" fill="none" stroke="currentColor" stroke-width="1.5">
                  <path d="M9 13h6M12 16V8" stroke-linecap="round" stroke-linejoin="round" />
                  <path d="M20 11.5A8.38 8.38 0 1 1 5.64 6" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
              </div>
              <h3 class="text-xl font-bold text-slate-800 mb-2">خدمتی با این شرایط پیدا نشد</h3>
              <p class="text-sm text-slate-500 leading-relaxed mb-4">فیلترها را کمی تغییر دهید یا دسته‌بندی دیگری را انتخاب کنید تا گزینه‌های بیشتری ببینید.</p>
              <button id="reset-filters" class="px-5 py-2 rounded-full bg-gradient-to-l from-emerald-500 to-sky-500 text-white font-semibold shadow-md hover:shadow-lg transition">بازنشانی فیلترها</button>
            </div>
          </div>
        </section>

        <section id="portfolio-section" class="directory-panel directory-panel--secondary">
          <div class="glass-surface border border-slate-100/80 rounded-3xl p-6 sm:p-10 h-full flex flex-col">
            <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6">
              <div class="max-w-2xl">
                <span class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-sky-50 text-sky-600 font-semibold mb-3">
                  <i class="ri-gallery-line text-base"></i>
                  <span>نمونه‌کارهای واقعی</span>
                </span>
                <h2 class="text-2xl sm:text-3xl font-black text-slate-800 mb-2">گالری پروژه‌های تازه ثبت‌شده</h2>
                <p class="text-sm sm:text-base text-slate-500 leading-relaxed">نمونه‌های تایید شده از سالن‌های زیبایی، کلینیک‌ها و سایر مراکز خدماتی که توسط فروشندگان ویترینت بارگذاری شده‌اند. همه تصاویر مستقیماً از پایگاه داده بارگذاری می‌شوند.</p>
              </div>
              <div class="flex flex-col sm:flex-row sm:items-center gap-3 w-full lg:w-auto">
                <div class="flex items-center gap-2 w-full lg:w-auto h-scrollbar overflow-x-auto">
                  <div id="portfolio-chip-container" class="flex items-center gap-2"></div>
                </div>
                <div id="portfolio-sort-container" class="portfolio-sort-group">
                  <button type="button" class="portfolio-sort-button" data-sort="likes" data-active="true">
                    <i class="ri-heart-3-line"></i>
                    <span>بیشترین لایک</span>
                  </button>
                  <button type="button" class="portfolio-sort-button" data-sort="views" data-active="false">
                    <i class="ri-bar-chart-fill"></i>
                    <span>بیشترین بازدید</span>
                  </button>
                </div>
              </div>
            </div>

            <div id="portfolio-grid" class="mt-8 grid gap-6 sm:gap-7 grid-cols-1 sm:grid-cols-2 md:grid-cols-3"></div>
            <div id="portfolio-empty" class="hidden mt-6 text-center text-sm sm:text-base text-slate-500 bg-slate-50 border border-dashed border-slate-200 rounded-3xl py-10 px-6">
              <h3 class="text-lg font-bold text-slate-700 mb-2">نمونه‌کاری مطابق با فیلتر انتخابی پیدا نشد.</h3>
              <p>فیلتر دیگری را امتحان کنید تا نمونه‌کارهای بیشتری را مشاهده کنید.</p>
            </div>
          </div>
        </section>
      </div>
    </section>
  </main>

  <footer class="bg-white/80 border-t border-slate-100 py-8 mt-auto">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 text-center text-sm text-slate-500">
      <p>ویترینت &copy; ۱۴۰۲ — با عشق برای شهروندان سنندج</p>
    </div>
  </footer>

  <div id="portfolio-modal" class="hidden">
    <div class="portfolio-modal-backdrop" data-portfolio-modal-backdrop>
      <div class="portfolio-modal-container" role="dialog" aria-modal="true" aria-labelledby="portfolio-modal-title">
        <span class="portfolio-modal-handle" aria-hidden="true"></span>
        <div class="portfolio-modal-media">
          <img id="portfolio-modal-image" src="" alt="نمونه‌کار" loading="lazy">
          <button type="button" class="portfolio-modal-close" data-portfolio-modal-close aria-label="بستن">
            <i class="ri-close-line text-2xl"></i>
          </button>
        </div>
        <div class="portfolio-modal-body">
          <div class="portfolio-modal-header flex flex-col gap-4">
            <div>
              <h3 id="portfolio-modal-title" class="text-xl sm:text-2xl font-black text-slate-800 leading-tight"></h3>
              <p id="portfolio-modal-shop" class="mt-1.5 text-sm sm:text-base font-semibold text-slate-500"></p>
            </div>
            <div class="portfolio-modal-metrics">
              <span class="portfolio-metric-chip" data-variant="likes">
                <i class="ri-heart-3-fill"></i>
                <span class="portfolio-metric-label">پسند</span>
                <span id="portfolio-modal-likes" class="portfolio-metric-value">۰</span>
              </span>
              <span class="portfolio-metric-chip" data-variant="views">
                <i class="ri-bar-chart-fill"></i>
                <span class="portfolio-metric-label">بازدید</span>
                <span id="portfolio-modal-views" class="portfolio-metric-value">۰</span>
              </span>
            </div>
          </div>
          <p id="portfolio-modal-description" class="text-sm sm:text-base leading-relaxed text-slate-600"></p>
          <div class="flex flex-wrap gap-3 items-center text-xs sm:text-sm text-slate-500">
            <span id="portfolio-modal-rating" class="inline-flex items-center gap-1.5 font-semibold"></span>
            <span id="portfolio-modal-category" class="inline-flex items-center gap-1.5 font-semibold"></span>
          </div>
          <div class="portfolio-card-actions w-full sm:justify-end pt-2">
            <button type="button" class="portfolio-action-button w-full sm:w-auto" data-variant="secondary" data-portfolio-modal-close>
              <i class="ri-close-circle-line"></i>
              <span>بستن</span>
            </button>
            <a id="portfolio-modal-link" href="#" class="portfolio-action-button w-full sm:w-auto" data-variant="primary">
              <span>مشاهده صفحه</span>
              <i class="ri-external-link-line"></i>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

<script src="js/service-directory.js" defer></script>

</body>
</html>