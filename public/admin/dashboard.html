<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>ุฏุงุดุจูุฑุฏ ูุฏุฑุช | ูุชุฑูุช</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="dashboard.css">
  <script src="/nav-active.js" defer></script>
</head>
<body>
  <div class="dashboard-container">
    <!-- Sidebar -->
    <nav class="sidebar" id="sidebar">
      <div class="sidebar-header">ูุชุฑูุช</div>
      <div class="sidebar-menu">
        <a href="#" class="active" data-section="dashboard"><i class="ri-dashboard-line"></i> ุฏุงุดุจูุฑุฏ</a>
        <a href="#" data-section="daily-visits"><i class="ri-eye-line"></i> ุขูุงุฑ ุฑูุฒุงูู ุจุงุฒุฏุฏ</a>
        <a href="#" data-section="users"><i class="ri-user-3-line"></i> ฺฉุงุฑุจุฑุงู <span class="count" id="count-users">0</span></a>
        <a href="#" data-section="sellers"><i class="ri-store-2-line"></i> ูุฑูุดูุฏูโูุง <span class="count" id="count-sellers">0</span></a>
        <a href="#" data-section="service-shops" id="service-shops-link"><i class="ri-scissors-2-line"></i> ูุบุงุฒูโูุง ุฎุฏูุงุช <span class="count" id="count-service-shops"></span></a>
        <a href="#" data-section="categories"><i class="ri-folders-line"></i> ูุฏุฑุช ุฏุณุชูโุจูุฏโูุง</a>
        <a href="#" data-section="products"><i class="ri-box-3-line"></i> ูุญุตููุงุช <span class="count" id="count-products">0</span></a>
        <a href="#" data-section="shopping-centers"><i class="ri-building-2-line"></i> ูุฑุงฺฉุฒ ุฎุฑุฏ <span class="count" id="count-shopping-centers">0</span></a>
        <a href="#" data-section="plans"><i class="ri-money-dollar-circle-line"></i> ูุฏุฑุช ููุช ูพููโูุง</a>
        <a href="#" data-section="ads"><i class="ri-megaphone-line"></i> ูุฏุฑุช ููุช ุชุจูุบุงุช</a>
        <a href="#" data-section="income-insights"><i class="ri-bar-chart-grouped-line"></i> ุฏุงุดุจูุฑุฏ ุฏุฑุขูุฏูุง</a>
        <a href="#" data-section="ad-orders"><i class="ri-advertisement-line"></i> ุชุงุฏ ุชุจูุบุงุช ูฺู <span class="count" id="count-ad-orders">0</span></a>
        <a href="#" data-section="home-section"><i class="ri-layout-grid-line"></i> ฺฉุงุฑุชโูุง ุตูุญู ุงุตู</a>
        <a href="#" data-section="messages">
          <i class="ri-chat-1-line"></i> ูพุงูโูุง
          <span class="count" id="count-messages">0</span>
        </a>
<a href="#" data-section="reports"><i class="ri-file-list-line"></i> ฺฏุฒุงุฑุดุงุช <span class="count" id="count-reports">0</span></a>


      </div>
      <div class="sidebar-footer">
        <span>ยฉ 2025 vitrinNet Panel</span>
      </div>
    </nav>
 <!-- Main Content
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ -->
<div class="main-content">
  <!-- ุฏฺฉููู ุจุงุฒ/ุจุณุชู ุณุงุฏุจุงุฑ ุฏุฑ ููุจุงู -->
  <button class="sidebar-toggle-btn" id="sidebarToggle">
    <i class="ri-menu-3-line"></i>
  </button>

  <!-- ฑ) ุฏุงุดุจูุฑุฏ -->
  <div class="section-panel" id="dashboard-panel">
    <div class="content-header">ุฏุงุดุจูุฑุฏ ุขูุงุฑ</div>
    <div class="cards">
      <div class="card" id="card-visits">
        <span class="icon"><i class="ri-eye-line"></i></span>
        <div><div class="num" id="visit-today">0</div><div class="label">ุจุงุฒุฏุฏ ุงูุฑูุฒ</div></div>
      </div>
      <div class="card" id="card-users">
        <span class="icon"><i class="ri-user-add-line"></i></span>
        <div><div class="num" id="register-user-today">0</div><div class="label">ุซุจุชโูุงู ฺฉุงุฑุจุฑุงู ุงูุฑูุฒ</div></div>
      </div>
      <div class="card" id="card-sellers">
        <span class="icon"><i class="ri-store-2-line"></i></span>
        <div><div class="num" id="register-seller-today">0</div><div class="label">ุซุจุชโูุงู ูุฑูุดูุฏู ุงูุฑูุฒ</div></div>
      </div>
      <div class="card" id="card-service-shops">
        <span class="icon"><i class="ri-scissors-2-line"></i></span>
        <div><div class="num" id="service-shops-total">0</div><div class="label">ูุบุงุฒูโูุง ุฎุฏูุงุช ูุนุงู</div></div>
      </div>
      <div class="card" id="card-products">
        <span class="icon"><i class="ri-box-3-line"></i></span>
        <div><div class="num" id="products-total">0</div><div class="label">ุชุนุฏุงุฏ ูุญุตููุงุช</div></div>
      </div>
    </div>
    <div id="dashboard-dynamic-chart-wrap"></div>
  </div>

  <!-- ูพูู ุฌุฏุฏ ุจุฑุง ุขูุงุฑ ุฑูุฒุงูู ุจุงุฒุฏุฏ -->
  <div class="section-panel" id="daily-visits-panel" style="display:none;">
    <p style="text-align:center">ุฏุฑ ุญุงู ุจุงุฑฺฏุฑ...</p>
  </div>

  <!-- ฒ) ฺฉุงุฑุจุฑุงู -->
<!-- ฒ) ฺฉุงุฑุจุฑุงู -->
<div class="section-panel" id="users-panel" style="display:none;">
  <div class="content-header">ฺฉุงุฑุจุฑุงู <span class="header-count" id="header-users-count"></span></div>
  <div style="margin-bottom:1rem;display:flex;gap:0.5rem;align-items:center;">
    <input type="text" id="userSearch" placeholder="ุฌุณุชุฌู ูุงูุ ูุงู ุฎุงููุงุฏฺฏ ุง ุชููู..." 
           style="width:100%;max-width:400px;padding:0.7rem 1rem;border-radius:12px;border:1.5px solid #10b98144;font-size:1rem;font-family:inherit;outline:none;transition:border .15s;">
  </div>
  <div class="table-wrap">
    <table id="usersTable">
      <thead><tr><th>ูุงู</th><th>ุงูู</th><th>ุนููุงุช</th></tr></thead>
      <tbody></tbody>
    </table>
  </div>
</div>

  <!-- ณ) ูุฑูุดูุฏูโูุง -->
  <div class="section-panel" id="sellers-panel" style="display:none;">
    <div class="content-header">ูุฑูุดูุฏูโูุง <span class="header-count" id="header-sellers-count"></span></div>
    <div style="margin-bottom:1rem;display:flex;gap:0.5rem;align-items:center;">
  <input type="text" id="sellerSearch" placeholder="ุฌุณุชุฌู ูุงู ูุฑูุดฺฏุงูุ ูุฑูุดูุฏู ุง ุขุฏุฑุณ..." 
         style="width:100%;max-width:400px;padding:0.7rem 1rem;border-radius:12px;border:1.5px solid #10b98144;font-size:1rem;font-family:inherit;outline:none;transition:border .15s;">
</div>
    <div class="sellers-filters" style="display:flex;gap:.7rem;margin-bottom:1.1rem;flex-wrap:wrap">
      <button class="seller-filter-btn active" data-sort="newest">ุฌุฏุฏุชุฑู</button>
      <button class="seller-filter-btn" data-sort="oldest">ูุฏูโุชุฑู</button>
      <button class="seller-filter-btn" data-sort="mostvisited">ูพุฑุจุงุฒุฏุฏุชุฑู</button>
      <button class="seller-filter-btn" data-sort="mostproducts">ูพุฑูุญุตููโุชุฑู</button>
    </div>

    <div class="table-wrap">
      <table id="sellersTable">
        <thead>
          <tr>
            <th>ูุงู ูุฑูุดฺฏุงู</th><th>ูุงู ุตุงุญุจ ูุฑูุดฺฏุงู</th><th>ุขุฏุฑุณ ูุฑูุดฺฏุงู</th>
            <th>ููฺฉ ูุฑูุดฺฏุงู</th><th>ุชุนุฏุงุฏ ูุญุตููุงุช</th><th>ุจุงุฒุฏุฏ</th><th>ููุฑู ุงุฏูู</th><th>ุนููุงุช</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </div>

  <!-- ูุฏุฑุช ูุบุงุฒูโูุง ุฎุฏูุงุช -->
  <div class="section-panel" id="service-shops-panel" style="display:none;">
    <div class="content-header">ูุฏุฑุช ูุบุงุฒูโูุง ุฎุฏูุงุช <span class="header-count" id="header-service-shops-count"></span></div>

    <div class="service-shops-summary" id="service-shops-summary">
      <div class="service-summary-card" id="service-summary-card-total" data-status-filter="all" data-summary-key="total">
        <span class="label">ฺฉู ูุบุงุฒูโูุง</span>
        <span class="value" id="service-summary-total">0</span>
        <span class="hint" id="service-summary-hint-total">ุฏุฑ ููู ูุถุนุชโูุง</span>
      </div>
      <div class="service-summary-card" id="service-summary-card-active" data-status-filter="approved" data-summary-key="active">
        <span class="label">ุชุงุฏ ุดุฏู</span>
        <span class="value" id="service-summary-active">0</span>
        <span class="hint" id="service-summary-hint-active"></span>
      </div>
      <div class="service-summary-card" id="service-summary-card-pending" data-status-filter="pending" data-summary-key="pending">
        <span class="label">ุฏุฑ ุงูุชุธุงุฑ ุชุงุฏ</span>
        <span class="value" id="service-summary-pending">0</span>
        <span class="hint" id="service-summary-hint-pending"></span>
      </div>
      <div class="service-summary-card" id="service-summary-card-suspended" data-status-filter="suspended" data-summary-key="suspended">
        <span class="label">ูุนูู / ุบุฑูุนุงู</span>
        <span class="value" id="service-summary-suspended">0</span>
        <span class="hint" id="service-summary-hint-suspended"></span>
      </div>
      <div class="service-summary-card" id="service-summary-card-archived" data-status-filter="archived" data-summary-key="archived">
        <span class="label">ุขุฑุดู ุดุฏู</span>
        <span class="value" id="service-summary-archived">0</span>
        <span class="hint" id="service-summary-hint-archived"></span>
      </div>
      <div class="service-summary-card" id="service-summary-card-featured" data-summary-key="featured">
        <span class="label">ูุบุงุฒูโูุง ูฺู</span>
        <span class="value" id="service-summary-featured">0</span>
        <span class="hint" id="service-summary-hint-featured"></span>
      </div>
      <div class="service-summary-card" id="service-summary-card-premium" data-summary-key="premium">
        <span class="label">ูพุฑููู ูุนุงู</span>
        <span class="value" id="service-summary-premium">0</span>
        <span class="hint" id="service-summary-hint-premium"></span>
      </div>
      <div class="service-summary-card" id="service-summary-card-booking" data-summary-key="booking">
        <span class="label">ุฑุฒุฑู ุขููุงู ูุนุงู</span>
        <span class="value" id="service-summary-booking">0</span>
        <span class="hint" id="service-summary-hint-booking"></span>
      </div>
    </div>

    <div class="service-insights-grid">
      <div class="service-insight-card">
        <h4>ูุถุนุชโูุง</h4>
        <ul id="service-status-breakdown">
          <li class="empty">ุฏุฑ ุญุงู ุจุงุฑฺฏุฑ...</li>
        </ul>
      </div>
      <div class="service-insight-card">
        <h4>ุดูุฑูุง ุจุฑุชุฑ</h4>
        <ul id="service-top-cities">
          <li class="empty">ุฏุฑ ุญุงู ุจุงุฑฺฏุฑ...</li>
        </ul>
      </div>
      <div class="service-insight-card">
        <h4>ุฏุณุชูโูุง ูุญุจูุจ</h4>
        <ul id="service-top-categories">
          <li class="empty">ุฏุฑ ุญุงู ุจุงุฑฺฏุฑ...</li>
        </ul>
      </div>
      <div class="service-insight-card">
        <h4>ุขุฎุฑู ุจุฑูุฒุฑุณุงูโูุง</h4>
        <div id="service-recent-list">
          <div class="service-recent-item">
            <strong>ุฏุฑ ุญุงู ุจุงุฑฺฏุฑ...</strong>
            <span>ูุทูุงู ฺฉู ุตุจุฑ ฺฉูุฏ</span>
          </div>
        </div>
      </div>
    </div>

    <div class="service-shops-filters">
      <div class="service-filter-field" style="flex:2;">
        <label for="service-shops-search">ุฌุณุชุฌู</label>
        <input type="search" id="service-shops-search" placeholder="ูุงู ูุบุงุฒูุ ุดูุฑุ ุตุงุญุจ ุง ุดูุงุฑู ุชูุงุณ..." autocomplete="off">
      </div>
      <div class="service-filter-field">
        <label for="service-shops-status">ูุถุนุช</label>
        <select id="service-shops-status">
          <option value="all">ููู ูุถุนุชโูุง</option>
          <option value="approved">ุชุงุฏ ุดุฏู</option>
          <option value="pending">ุฏุฑ ุงูุชุธุงุฑ ุชุงุฏ</option>
          <option value="suspended">ูุนูู / ุบุฑูุนุงู</option>
          <option value="archived">ุขุฑุดู ุดุฏู</option>
          <option value="draft">ูพุดโููุณ</option>
        </select>
      </div>
      <div class="service-filter-field">
        <label for="service-shops-city">ุดูุฑ</label>
        <input type="text" id="service-shops-city" placeholder="ูุซูุงู ุชูุฑุงู">
      </div>
      <div class="service-filter-field">
        <label for="service-shops-featured">ูฺู</label>
        <select id="service-shops-featured">
          <option value="all">ููู</option>
          <option value="yes">ููุท ูฺูโูุง</option>
          <option value="no">ุบุฑ ูฺู</option>
        </select>
      </div>
      <div class="service-filter-field">
        <label for="service-shops-premium">ูพุฑููู</label>
        <select id="service-shops-premium">
          <option value="all">ููู</option>
          <option value="yes">ูพุฑููู ูุนุงู</option>
          <option value="no">ุบุฑ ูพุฑููู</option>
        </select>
      </div>
      <div class="service-filter-field">
        <label for="service-shops-booking">ุฑุฒุฑู ุขููุงู</label>
        <select id="service-shops-booking">
          <option value="all">ููู</option>
          <option value="yes">ูุนุงู</option>
          <option value="no">ุบุฑูุนุงู</option>
        </select>
      </div>
      <div class="service-filters-actions" style="flex:1;min-width:200px;">
        <button class="primary" type="button" id="service-shops-refresh"><i class="ri-refresh-line"></i> ุจุฑูุฒุฑุณุงู</button>
        <button class="ghost" type="button" id="service-shops-reset"><i class="ri-eraser-line"></i> ุจุงุฒูุดุงู</button>
      </div>
    </div>

    <div class="table-wrap service-shops-table-wrap">
      <div id="service-shops-loading"><i class="ri-loader-4-line"></i><span>ุฏุฑ ุญุงู ุจุงุฑฺฏุฑ ูุบุงุฒูโูุง...</span></div>
      <div class="empty-state" id="service-shops-empty">
        <i class="ri-store-2-line"></i>
        <p>ูููุฒ ุฏุงุฏูโุง ุซุจุช ูุดุฏู ุงุณุช.</p>
      </div>
      <table id="service-shops-table">
        <thead>
          <tr>
            <th>ุงุทูุงุนุงุช ูุบุงุฒู</th>
            <th>ูุถุนุช</th>
            <th>ุขุฎุฑู ุจุฑูุฒุฑุณุงู</th>
            <th>ุนููุงุช</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <div class="pagination" id="service-shops-pagination"></div>
  </div>

  <!-- ด) ูุญุตููุงุช -->
  <div class="section-panel" id="products-panel" style="display:none;">
    <div class="content-header">ูุญุตููุงุช <span class="header-count" id="header-products-count"></span></div>

<!-- ุฌุณุชุฌู ูุญุตููุงุช -->
<div style="margin-bottom:1rem;display:flex;gap:0.5rem;align-items:center;">
  <input type="text" id="productSearch" placeholder="ุฌุณุชุฌู ูุงู ูุญุตููุ ูุฑูุดูุฏู ุง ูุฑูุดฺฏุงู..." 
         style="width:100%;max-width:400px;padding:0.7rem 1rem;border-radius:12px;border:1.5px solid #10b98144;font-size:1rem;font-family:inherit;outline:none;transition:border .15s;">
</div>

<!-- ููุชุฑ ูุฑุชุจโุณุงุฒ ูุญุตููุงุช -->
<div class="products-filters" style="display:flex;gap:.7rem;margin-bottom:1.1rem;flex-wrap:wrap">
  <button class="seller-filter-btn active" data-sort="newest">ุฌุฏุฏุชุฑู</button>
  <button class="seller-filter-btn" data-sort="oldest">ูุฏูโุชุฑู</button>
</div>

    <div class="table-wrap">
      <table id="productsTable">
    <!-- productsTable โ header AFTER the change -->
<thead>
  <tr>
    <th>ูุงู ูุญุตูู</th>  <!-- ุณุชูู ุฌุฏุฏ ุจุฑุง ูุงู ูุญุตูู -->
    <th>ูุงู ูุฑูุดฺฏุงู</th>
    <th>ูุงู ุตุงุญุจ ูุฑูุดฺฏุงู</th>
    <th>ุขุฏุฑุณ ูุฑูุดฺฏุงู</th>
    <th>ููฺฉ ูุฑูุดฺฏุงู</th>
    <th>ุนููุงุช</th>
  </tr>
</thead>

        <tbody></tbody>
      </table>
    </div>
  </div>

  <!-- ต) ูุฑุงฺฉุฒ ุฎุฑุฏ -->
  <div class="section-panel" id="shopping-centers-panel" style="display:none;">
    <div class="content-header">ูุฑุงฺฉุฒ ุฎุฑุฏ <span class="header-count" id="header-shopping-centers-count"></span></div>
    <div class="shopping-centers-grid">
      <form id="shoppingCenterForm" class="shopping-center-form" enctype="multipart/form-data">
        <h3>ุงูุฒูุฏู ูุฑฺฉุฒ ุฎุฑุฏ ุฌุฏุฏ</h3>
        <div>
          <label for="shoppingCenterTitle">ูุงู ูุฑฺฉุฒ ุฎุฑุฏ *</label>
          <input type="text" id="shoppingCenterTitle" name="title" placeholder="ูุซูุงู ุชุงูุงฺฉูุฑุง" required />
        </div>
        <div class="form-row">
          <div>
            <label for="shoppingCenterTag">ุชฺฏ ฺฉูุชุงู</label>
            <input type="text" id="shoppingCenterTag" name="tag" placeholder="ูุซูุงู ูุญุจูุจ" />
          </div>
          <div>
            <label for="shoppingCenterOrder">ุชุฑุชุจ ููุงุด</label>
            <input type="number" id="shoppingCenterOrder" name="order" min="0" step="1" placeholder="0" />
          </div>
        </div>
        <div>
          <label for="shoppingCenterLocation">ุขุฏุฑุณ/ูููุนุช</label>
          <input type="text" id="shoppingCenterLocation" name="location" placeholder="ุณููุฏุฌุ ุฎุงุจุงู ..." />
        </div>
        <div class="form-row">
          <div>
            <label for="shoppingCenterHours">ุณุงุนุงุช ฺฉุงุฑ</label>
            <input type="text" id="shoppingCenterHours" name="hours" placeholder="ฑฐ ุงู ฒฒ" />
          </div>
          <div>
            <label for="shoppingCenterHolidays">ุฑูุฒูุง ุชุนุทู</label>
            <input type="text" id="shoppingCenterHolidays" name="holidays" placeholder="ุฌูุนูโูุง" />
          </div>
        </div>
        <div>
          <label for="shoppingCenterDescription">ุชูุถุญุงุช</label>
          <textarea id="shoppingCenterDescription" name="description" placeholder="ูุนุฑู ฺฉูุชุงู ูุฑฺฉุฒ ุฎุฑุฏ"></textarea>
        </div>
        <div>
          <label for="shoppingCenterImage">ุชุตูุฑ ุดุงุฎุต *</label>
          <input type="file" id="shoppingCenterImage" name="image" accept="image/*" required />
          <small style="display:block;margin-top:0.4rem;color:#6b7280;font-size:0.78rem;">ูุฑูุช JPG ุง PNG ุจุง ุญุฌู ุญุฏุงฺฉุซุฑ ฒ ูฺฏุงุจุงุช.</small>
        </div>
        <button type="submit"><i class="ri-add-circle-line" style="margin-left:0.3rem;"></i>ุงูุฒูุฏู ูุฑฺฉุฒ ุฎุฑุฏ</button>
        <div id="shoppingCenterFormMessage" style="display:none;font-size:0.85rem;padding:0.65rem 0.9rem;border-radius:12px;"></div>
      </form>
      <div>
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;flex-wrap:wrap;gap:0.6rem;">
          <div style="font-weight:600;color:#0f9a8b;font-size:0.95rem;">ูุณุช ูุฑุงฺฉุฒ ุฎุฑุฏ ูุนุงู</div>
          <button type="button" class="shopping-centers-refresh" id="shoppingCentersRefresh">
            <i class="ri-refresh-line"></i>
            ุจุฑูุฒุฑุณุงู ูุณุช
          </button>
        </div>
        <div id="shoppingCentersCards" class="shopping-centers-cards"></div>
        <div id="shoppingCentersEmpty" class="shopping-centers-empty" style="display:none;">
          ูููุฒ ูฺ ูุฑฺฉุฒ ุฎุฑุฏ ุซุจุช ูุดุฏู ุงุณุช.
        </div>
      </div>
    </div>
  </div>

  <!-- ูุฏุฑุช ุฏุณุชูโุจูุฏโูุง -->
  <div class="section-panel" id="categories-panel" style="display:none;">
    <div class="content-header">ูุฏุฑุช ุญุฑููโุง ุฏุณุชูโุจูุฏโูุง</div>

    <div class="category-metrics">
      <div class="category-metric-card">
        <span class="metric-label">ุชุนุฏุงุฏ ุฏุณุชูโูุง ูุนุงู</span>
        <span class="metric-value" id="categories-count">0</span>
      </div>
      <div class="category-metric-card">
        <span class="metric-label">ุฒุฑฺฏุฑููโูุง ุฎุฏูุงุช</span>
        <span class="metric-value" id="service-subcategories-count">0</span>
      </div>
      <div class="category-metric-card note">
        <i class="ri-information-line"></i>
        <div>
          <strong>ุฐุฎุฑูโุณุงุฒ ููุดููุฏ</strong>
          <p>ุชุบุฑุงุช ุฏุณุชูโุจูุฏโูุง ุจูุงูุงุตูู ุฐุฎุฑู ุดุฏู ู ุฏุฑ ูพุดโููุงุด ูุฑู ุซุจุช ูุฑูุดฺฏุงู ูุงุจู ุจุฑุฑุณ ุงุณุช.</p>
        </div>
      </div>
    </div>

    <div class="categories-manage-grid">
      <section class="categories-card">
        <div class="categories-card-header">
          <h3>ุฏุณุชูโุจูุฏโูุง ุงุตู</h3>
          <p>ุฏุณุชูโูุง ููุฑุฏ ุงุณุชูุงุฏู ุฏุฑ ูุฑู ุซุจุช ูุฑูุดฺฏุงู ุฑุง ูุฏุฑุช ฺฉูุฏ.</p>
        </div>
        <form id="categoryAddForm" class="categories-form" autocomplete="off">
          <label for="categoryNameInput">ุงูุฒูุฏู ุฏุณุชู ุฌุฏุฏ</label>
          <div class="categories-form-row">
            <input type="text" id="categoryNameInput" placeholder="ูุซูุงู ุชุนูุฑุงุช ุฎุงูฺฏ" required />
            <button type="submit" class="primary-btn">ุงูุฒูุฏู</button>
          </div>
        </form>
        <div id="categoryManagerList" class="chip-list" data-empty-label="ูููุฒ ุฏุณุชูโุง ุซุจุช ูุดุฏู ุงุณุช."></div>
      </section>

      <section class="categories-card">
        <div class="categories-card-header">
          <h3>ุฒุฑฺฏุฑููโูุง ูุญุจูุจ ุฎุฏูุงุช</h3>
          <p>ูุณุช ูููููโูุง ูพุดููุงุฏ ุจุฑุง ุฏุณุชู ยซุฎุฏูุงุชยป ฺฉู ุฏุฑ ูุฑู ุจูโุตูุฑุช ฺูพ ููุงุด ุฏุงุฏู ูโุดูุฏ.</p>
        </div>
        <form id="serviceSubcategoryForm" class="categories-form" autocomplete="off">
          <label for="serviceSubcategoryInput">ุงูุฒูุฏู ุฒุฑฺฏุฑูู ุฌุฏุฏ</label>
          <div class="categories-form-row">
            <input type="text" id="serviceSubcategoryInput" placeholder="ูุซูุงู ุฎุฏูุงุช ูุธุงูุช" required />
            <button type="submit" class="primary-btn">ุงูุฒูุฏู</button>
          </div>
        </form>
        <div id="serviceSubcategoryList" class="chip-list" data-empty-label="ูููุฒ ุฒุฑฺฏุฑูู ุซุจุช ูุดุฏู ุงุณุช."></div>
      </section>

      <section class="categories-card preview-card">
        <div class="categories-card-header">
          <h3>ูพุดโููุงุด ูุฑู ุซุจุช ูุฑูุดฺฏุงู</h3>
          <p>ุจูโุฑูุฒุฑุณุงูโูุง ุฏุฑ ูููุฌุง ูุงุจู ุจุฑุฑุณ ูุณุชูุฏ.</p>
        </div>
        <div class="preview-field">
          <label>ุฏุณุชูโุจูุฏ</label>
          <select id="categoryPreviewSelect" disabled>
            <option>ุฏุฑ ุญุงู ุจุงุฑฺฏุฑ...</option>
          </select>
        </div>
        <div class="preview-field">
          <label>ููููู ุฒุฑฺฏุฑููโูุง ุฎุฏูุงุช</label>
          <div id="servicePreviewChips" class="chip-list preview" data-empty-label="ุจุฑุง ููุงุด ุฒุฑฺฏุฑููุ ููุฑุฏ ุงุถุงูู ฺฉูุฏ."></div>
        </div>
        <div class="preview-note">
          <i class="ri-lightbulb-flash-line"></i>
          <p>ูพุณ ุงุฒ ุชุงุฏ ููุงุ ุงู ุฏุงุฏูโูุง ุฑุง ูโุชูุงูุฏ ุจู ุจฺฉโุงูุฏ ููุชูู ฺฉูุฏ ุชุง ุฏุฑ ุชุฌุฑุจู ฺฉุงุฑุจุฑุงู ุงุนูุงู ุดูุฏ.</p>
        </div>
      </section>
    </div>

    <div id="categoryManagerFeedback" class="category-feedback" role="status" aria-live="polite"></div>
  </div>

  <!-- ถ) ูุฏุฑุช ููุช ูพููโูุง -->
  <div class="section-panel" id="plans-panel" style="display:none;">
    <div class="content-header">ูุฏุฑุช ููุช ูพููโูุง</div>
    <div class="plans-center" style="flex-direction:column;gap:2.5rem;width:100%;max-width:1000px;">
      <div class="plan-flag-card" id="sellerPlanToggleCard" data-enabled="false">
        <div class="plan-flag-header">
          <div class="plan-flag-copy">
            <h3>ููุงุด ุจุฎุด ูพููโูุง ุฏุฑ ูพูู ูุฑูุดูุฏู</h3>
            <p>
              ุจุง ุฑูุดู ุจูุฏู ุงู ฺฏุฒููุ ูุฑูุดูุฏฺฏุงู ูโุชูุงููุฏ ฺฉุงุฑุช ูพูู ูุนุงู ู ุตูุญู ุงูุชุฎุงุจ ูพูู ุฑุง ุจุจููุฏ.
              ุฏุฑ ุตูุฑุช ุบุฑูุนุงูโุณุงุฒุ ููฺฉ ูพููโูุง ู ูุญุชูุง ูุฑุจูุทู ุจุฑุง ุชูุงู ูุฑูุดูุฏฺฏุงู ูุฎู ูโุดูุฏ.
            </p>
          </div>
          <div class="plan-flag-switch" aria-live="polite">
            <label class="toggle-switch" for="sellerPlanToggle" aria-label="ฺฉูุชุฑู ููุงุด ูพููโูุง">
              <input type="checkbox" id="sellerPlanToggle" />
              <span class="slider"></span>
            </label>
            <span class="plan-flag-state status-off" id="sellerPlanToggleStatus" role="status" aria-live="polite">ุบุฑูุนุงู</span>
          </div>
        </div>
        <div class="plan-flag-actions">
          <button type="button" class="flag-save-btn" id="sellerPlanToggleSave">ุฐุฎุฑู ูุถุนุช</button>
          <button type="button" class="flag-refresh-btn" id="sellerPlanToggleRefresh">ุจุฑูุฒุฑุณุงู ูุถุนุช</button>
        </div>
        <div class="plan-flag-meta" id="sellerPlanToggleMeta">ุฏุฑ ุญุงู ุขูุงุฏูโุณุงุฒ ุงุทูุงุนุงุช...</div>
      </div>
      <form id="plansForm">
        <div>
          <input id="seller-phone-plans" type="text" placeholder="ุดูุงุฑู ููุจุงู ูุฑูุดูุฏู (ุงุฎุชุงุฑ ุจุฑุง ููุช ุงุฎุชุตุงุต)" style="width:100%;margin-bottom:1rem;padding:0.9rem 1.2rem;font-size:1.15rem;background:#f8fafc;border:1.8px solid #e0fdfa;border-radius:16px;outline:none;"/>
        </div>
        <div>
          <label for="plan-1month">ุงุดุชุฑุงฺฉ ฑ ูุงูู</label>
          <input id="plan-1month" type="number" />
        </div>
        <div>
          <label for="plan-3month">ุงุดุชุฑุงฺฉ ณ ูุงูู</label>
          <input id="plan-3month" type="number" />
        </div>
        <div>
          <label for="plan-12month">ุงุดุชุฑุงฺฉ ฑฒ ูุงูู</label>
          <input id="plan-12month" type="number" />
        </div>
        <!-- VitriPlus Price Input -->
        <div class="mb-4">
          <label class="block text-right text-sm text-green-900 mb-1">ููุช ุงูฺฉุงูุงุช ูฺู (ูุชุฑโูพูุงุณ)</label>
          <input type="number" id="vitriPlusPrice" name="vitriPlusPrice"
                 placeholder="ูุซูุงู 30000"
                 class="w-full p-2 rounded-xl bg-green-100 text-green-800 text-sm text-right outline-none focus:ring-2 focus:ring-green-500"
                 dir="rtl">
        </div>
        <button type="submit">ุฐุฎุฑู ููุช ูพููโูุง</button>
        <div id="plansMsg" style="display:none;"></div>
      </form>
    </div>
  </div>

  <!-- ท) ูุฏุฑุช ููุช ุชุจูุบุงุช (ุฌุฏุงุณุงุฒโุดุฏู) -->
  <div class="section-panel" id="ads-panel" style="display:none;">
    <div class="content-header">ูุฏุฑุช ููุช ุชุจูุบุงุช</div>
    <div class="plans-center" style="flex-direction:column;gap:2.5rem;width:100%;max-width:1000px;">
      <form id="adsForm" class="priceForm">
        <div>
          <input id="seller-phone-ads" type="text" placeholder="ุดูุงุฑู ููุจุงู ูุฑูุดูุฏู (ุงุฎุชุงุฑ ุจุฑุง ููุช ุงุฎุชุตุงุต)" style="width:100%;margin-bottom:1rem;padding:0.9rem 1.2rem;font-size:1.15rem;background:#f8fafc;border:1.8px solid #e0fdfa;border-radius:16px;outline:none;"/>
        </div>
        <div>
          <label for="ad_search">ุชุจูุบ ุฌุณุชุฌู</label>
          <input id="ad_search" type="number" />
        </div>
        <div>
          <label for="ad_home">ุชุจูุบ ุตูุญู ุงูู</label>
          <input id="ad_home" type="number" />
        </div>
        <div>
          <label for="ad_products">ุชุจูุบ ุจู ูุญุตููุงุช</label>
          <input id="ad_products" type="number" />
        </div>
        <button type="submit">ุฐุฎุฑู ููุช ุชุจูุบุงุช</button>
        <div id="adsMsg" style="display:none;"></div>
      </form>
    </div>
  </div>


  <!-- ธ) ูุฏุฑุช ุชุจูุบุงุช ูฺู -->
  <div class="section-panel" id="ad-orders-panel" style="display:none;">
    <div class="content-header">
      ุชุจูุบุงุช ูฺู ุซุจุช ุดุฏู <span class="header-count" id="header-ad-orders-count"></span>
    </div>
    <p class="ad-orders-subtitle">ุจุฑ ุฏุฑุฎูุงุณุชโูุง ุชุจูุบุงุช ูฺู ูุธุงุฑุช ฺฉูุฏุ ูุถุนุช ูุฑ ุณูุงุฑุด ุฑุง ูุดุฎุต ููุงุฏ ู ุชูุถุญุงุช ูุฑูุดูุฏฺฏุงู ุฑุง ฺฉุฌุง ุจุจูุฏ.</p>

    <div class="ad-orders-overview">
      <div class="ad-overview-card total">
        <div class="ad-overview-icon">
          <i class="ri-megaphone-line"></i>
        </div>
        <div class="ad-overview-body">
          <span class="label">ฺฉู ุชุจูุบุงุช</span>
          <span class="value" id="adTotalCount">0</span>
        </div>
      </div>
      <div class="ad-overview-card pending">
        <div class="ad-overview-icon">
          <i class="ri-timer-2-line"></i>
        </div>
        <div class="ad-overview-body">
          <span class="label">ุฏุฑ ุงูุชุธุงุฑ ุชุงุฏ</span>
          <span class="value" id="adPendingCount">0</span>
        </div>
      </div>
      <div class="ad-overview-card approved">
        <div class="ad-overview-icon">
          <i class="ri-checkbox-circle-line"></i>
        </div>
        <div class="ad-overview-body">
          <span class="label">ุชุงุฏ ุดุฏู</span>
          <span class="value" id="adApprovedCount">0</span>
        </div>
      </div>
    </div>

    <div class="ad-orders-toolbar-card">
      <div class="ad-orders-toolbar-header">
        <div class="ad-toolbar-title">
          <h3>ูพุงุด ุณุฑุน ุฏุฑุฎูุงุณุชโูุง</h3>
          <p>ุจุง ููุชุฑูุง ู ุฌุณุชุฌู ุณุฑุนโุชุฑ ุจู ูุชุฌู ุจุฑุณุฏ ู ุจุง ุจุฑูุฒุฑุณุงูุ ุฌุฏุฏุชุฑู ูุถุนุช ุณูุงุฑุดโูุง ุฑุง ุจุจูุฏ.</p>
        </div>
        <button id="adOrdersRefresh" class="ad-toolbar-refresh"><i class="ri-refresh-line"></i> ุจุฑูุฒุฑุณุงู</button>
      </div>
      <div class="ad-orders-toolbar">
        <div class="filters" role="tablist" aria-label="ููุชุฑ ูุถุนุช">
          <button class="ad-filter-btn active" data-filter="all"><i class="ri-list-unordered"></i> ููู</button>
          <button class="ad-filter-btn" data-filter="pending"><i class="ri-timer-line"></i> ุฏุฑ ุงูุชุธุงุฑ</button>
          <button class="ad-filter-btn" data-filter="approved"><i class="ri-checkbox-circle-line"></i> ุชุงุฏ ุดุฏู</button>
          <button class="ad-filter-btn" data-filter="rejected"><i class="ri-close-circle-line"></i> ุฑุฏ ุดุฏู</button>
        </div>
        <div class="ad-orders-controls">
          <label class="ad-control ad-control-select" for="adOrdersPlanFilter">
            <span>ููุน ูพูู</span>
            <select id="adOrdersPlanFilter">
              <option value="all">ููู ูพููโูุง</option>
              <option value="ad_home">ุตูุญู ุงุตู</option>
              <option value="ad_search">ุฌุณุชุฌู</option>
              <option value="ad_products">ุจู ูุญุตููุงุช</option>
            </select>
          </label>
          <label class="ad-control ad-control-search" for="adOrdersSearch">
            <span>ุฌุณุชุฌู</span>
            <div class="ad-search-input">
              <i class="ri-search-line"></i>
              <input type="search" id="adOrdersSearch" class="ad-orders-search" placeholder="ุฌุณุชุฌู ูุงู ูุฑูุดูุฏูุ ุนููุงู ุง ุดูุงุฑู" />
            </div>
          </label>
        </div>
      </div>
    </div>

    <div class="ad-orders-status" id="adOrdersStatus" style="display:none;"></div>

    <div class="ad-orders-table-card">
      <div class="ad-orders-table-head">
        <div class="ad-orders-table-title">
          <h4>ููุฑุณุช ุฏุฑุฎูุงุณุชโูุง</h4>
          <p>ุจุฑุง ูุดุงูุฏู ุฌุฒุฆุงุช ฺฉุงูู ูุฑ ุชุจูุบุ ุฑู ุฑุฏู ุขู ฺฉูฺฉ ฺฉูุฏ.</p>
        </div>
        <div class="ad-orders-table-legend">
          <span class="legend-title"><i class="ri-flag-2-line"></i> ูุถุนุชโูุง</span>
          <span class="legend-badge pending">ุฏุฑ ุงูุชุธุงุฑ</span>
          <span class="legend-badge approved">ุชุงุฏ ุดุฏู</span>
          <span class="legend-badge rejected">ุฑุฏ ุดุฏู</span>
        </div>
      </div>
      <div class="table-wrap ad-orders-table">
        <table id="adOrdersTable">
          <thead>
            <tr>
              <th>ูุฑูุดูุฏู</th>
              <th>ูพูู / ุฌุฒุฆุงุช</th>
              <th>ูุจูุบ</th>
              <th>ุซุจุช ุฏุฑุฎูุงุณุช</th>
              <th>ุขุฎุฑู ูุถุนุช</th>
              <th>ุนููุงุช</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>
  </div>



  <!-- ธ) ุฏุงุดุจูุฑุฏ ุฏุฑุขูุฏูุง -->
  <div class="section-panel" id="income-insights-panel" style="display:none;">
    <p style="text-align:center;color:#888">ุฏุฑ ุญุงู ุจุงุฑฺฏุฑ ุฏุงุดุจูุฑุฏ ุฏุฑุขูุฏ...</p>
  </div>

  <!-- น) ฺฉุงุฑุชโูุง ุตูุญู ุงุตู -->
  <div class="section-panel" id="home-section-panel" style="display:none;">
    <p style="text-align:center;color:#888">ุฏุฑ ุญุงู ุจุงุฑฺฏุฑ...</p>
  </div>


<!-- ฑฐ) ูพุงูโูุง -->
<div class="section-panel" id="messages-panel" style="display:none;">
  <div class="content-header">ูพุงูโูุง <span class="header-count" id="header-messages-count"></span></div>


<!-- ููุชุฑ ูพุงูโูุง -->
<!-- ููุชุฑ ูพุงูโูุง -->
<div class="messages-filters" style="display:flex;gap:0.7rem;margin-bottom:1.1rem;flex-wrap:wrap;">
  <button class="seller-filter-btn active" data-filter="seller">ูพุงูโูุง ูุฑูุดูุฏู</button>
  <button class="seller-filter-btn" data-filter="customer">ูพุงูโูุง ูุดุชุฑ</button>
  <button class="seller-filter-btn" data-filter="newest">ุฌุฏุฏุชุฑู</button>
  <button class="seller-filter-btn" data-filter="oldest">ูุฏูโุชุฑู</button>
  <button class="seller-filter-btn" data-filter="unanswered">ูพุงุณุฎโูุฏุงุฏูโูุง</button>
</div>



<!-- ๐ข ฺฉุงุฑุช ุงุฑุณุงู ูพุงู ููฺฏุงู -->
<!-- ๐ข ฺฉุงุฑุช ุงุฑุณุงู ูพุงู ููฺฏุงู -->
<div class="broadcast-card collapsed" id="broadcastCard">
  <div class="broadcast-header" id="broadcastHeader">
    <i class="ri-mail-send-line"></i>
    <h4>ุงุฑุณุงู ูพุงู ููฺฏุงู</h4>
    <i class="ri-arrow-down-s-line toggle-icon" id="broadcastToggleIcon"></i>
  </div>
  <div class="broadcast-body" id="broadcastBody">
    <!-- ุจูู ูุฑู ุจุฏูู ุชุบุฑ -->
    <div class="broadcast-row">
      <label for="broadcastTarget">ุงุฑุณุงู ุจู:</label>
      <select id="broadcastTarget">
        <option value="sellers">๐ฉโ๐ผ ููู ูุฑูุดูุฏูโูุง</option>
        <option value="customers">๐ ููู ูุดุชุฑโูุง</option>
      </select>
    </div>
    <div class="broadcast-row">
      <label for="broadcastText">ูุชู ูพุงู:</label>
      <textarea id="broadcastText" placeholder="ูุชู ูพุงู ุฎูุฏ ุฑุง ุจููุณุฏโฆ"></textarea>
    </div>
    <div class="broadcast-actions">
      <button onclick="sendBroadcastMessage()">ุงุฑุณุงู ูพุงู</button>
    </div>
    <p id="broadcastStatus" class="broadcast-status"></p>
  </div>
</div>




  <div class="table-wrap">
    <table id="messagesTable">
<thead>
  <tr>
    <th>ูพุงู ุฌุฏุฏ</th>
    <th>ุขุฎุฑู ูพุงู</th>
    <th>ูุฑุณุชูุฏู</th>
    <th>ุชุงุฑุฎ</th>
    <th>ุนููุงุช</th>
  </tr>
</thead>




      <tbody></tbody>
    </table>
  </div>
</div>



<!-- ูพูู ุฌุฏุฏ ุจุฑุง ฺฏุฒุงุฑุดโูุง -->
<div class="section-panel" id="reports-panel" style="display:none;">
  <p style="text-align:center">ุฏุฑ ุญุงู ุจุงุฑฺฏุฑ...</p>
</div>


</div><!-- /main-content -->










  <script src="dashboard.js" defer></script>

<div id="ad-order-modal" class="ad-modal-overlay" style="display:none"></div>

<div id="seller-modal-overlay" class="seller-modal-overlay" style="display:none"></div>



<div id="sender-modal-overlay" class="sender-modal-overlay"></div>

<div id="user-modal-overlay" class="user-modal-overlay" style="display:none"></div>
</body>
</html>